(this["webpackJsonphosting-ui"]=this["webpackJsonphosting-ui"]||[]).push([[14],{337:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(82),r=n(28),o=n(57),i=n(25),c=n(50),s=n(3);function l(e,t){return function(n,l){var d=l(),u=d.main.subscription_plan,_=d.main.quota,b=d.main.usage,f=u.cname;if(!0!=={ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED:!0,NR_OF_SPACES_QUOTA_EXCEEDED:!0,SPACE_FILE_SIZE_QUOTA_EXCEEDED:!0,SPACE_NR_OF_FILES_QUOTA_EXCEEDED:!0,TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED:!0}[e.code]){var p={id:i.e(),dismissed:!1,type:"error",header:"Quota error",body:e.description};return n(Object(r.a)(p)),p.body}var h={id:i.e(),dismissed:!1,type:"error",header:"",body:""};if("ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED"===e.code)"undefined"!==typeof e.meta&&"undefined"!==typeof e.meta.header_text?h.header=Object(s.jsx)(s.Fragment,{children:e.meta.header_text}):h.header=Object(s.jsx)(s.Fragment,{children:"Out of quota"}),e.description||(e.description="Your account is out of quota, and performing this action is not allowed."),u.can_be_upgraded?h.body=Object(s.jsxs)(s.Fragment,{children:[e.description,"\xa0Do you need more requests, data or storage? Upgrade to the ",Object(s.jsx)("strong",{children:u.upgrade_to_cname})," plan."]}):h.body=Object(s.jsx)(s.Fragment,{children:e.description});else if("NR_OF_SPACES_QUOTA_EXCEEDED"===e.code){var j=1===_.storage.number_of_spaces?"space":"spaces",v=1===b.storage.number_of_spaces?"space":"spaces";h.header=Object(s.jsxs)(s.Fragment,{children:["Your ",u.cname," plan includes ",_.storage.number_of_spaces," ",j]}),u.can_be_upgraded?h.body=Object(s.jsxs)(s.Fragment,{children:["With a ",Object(s.jsx)("strong",{children:u.cname})," plan you get ",_.storage.number_of_spaces," ",j,". By upgrading your plan you get more spaces included."]}):h.body=Object(s.jsxs)(s.Fragment,{children:["With a ",Object(s.jsx)("strong",{children:u.cname})," plan you get ",_.storage.number_of_spaces," ",j," included, and you already have ",b.storage.number_of_spaces," ",v,". Delete one of your existing spaces, if you want to create one more."]})}else if("SPACE_FILE_SIZE_QUOTA_EXCEEDED"===e.code){var O=o.b(_.storage.max_file_size);h.header=Object(s.jsxs)(s.Fragment,{children:["File is larger than ",O]}),u.can_be_upgraded?h.body=Object(s.jsxs)(s.Fragment,{children:["The file ",Object(s.jsx)("strong",{children:Object(c.o)(t.base_name)})," is too large. With the ",Object(s.jsx)("strong",{children:f})," plan you can upload files that are up to ",O,". Do you want to upload larger files? ",Object(s.jsx)("strong",{children:"Upgrade your plan."})]}):h.body=Object(s.jsxs)(s.Fragment,{children:["The file ",Object(s.jsx)("strong",{children:Object(c.o)(t.base_name)})," is too large. You can upload files that are up to ",O,"."]})}else if("SPACE_NR_OF_FILES_QUOTA_EXCEEDED"===e.code)h.header=Object(s.jsx)(s.Fragment,{children:"Maximum number of files and folders reached"}),u.can_be_upgraded?h.body=Object(s.jsxs)(s.Fragment,{children:["You have reached the limit of ",Object(s.jsxs)("strong",{children:[_.storage.number_of_files_per_space," files and folders"]})," on the ",Object(s.jsx)("strong",{children:f})," plan. Make room for more files and folders, by deleting some of them - and try to upload or create again. Do you want to upload or create more files and folders? ",Object(s.jsx)("strong",{children:"Upgrade your plan."})]}):h.body=Object(s.jsxs)(s.Fragment,{children:["You have reached the limit of ",Object(s.jsxs)("strong",{children:[_.storage.number_of_files_per_space," files and folders"]}),". Make room for more files and folders, by deleting some of them - and try to upload or create again."]});else if("TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"===e.code){var g=o.b(_.storage.amount);h.header=Object(s.jsx)(s.Fragment,{children:"File not saved"}),u.can_be_upgraded?h.body=Object(s.jsxs)(s.Fragment,{children:["You have reached the ",Object(s.jsx)("strong",{children:g})," storage limit on the ",Object(s.jsx)("strong",{children:f})," plan, so your changes did not get saved. To add more storage you can either upgrade your plan - or delete some files to free up storage."]}):h.body=Object(s.jsxs)(s.Fragment,{children:["You have reached the ",Object(s.jsx)("strong",{children:g})," storage limit on the ",Object(s.jsx)("strong",{children:f})," plan, so your changes did not get saved. Delete some files to free up storage."]})}return u.can_be_upgraded?(h.learnMoreButtonText="Learn more",h.upgradeButtonText="Upgrade"):h.dismissButtonText="Got it",n(Object(a.a)(h)),h.body}}},339:function(e,t,n){"use strict";var a=n(7),r=n(24),o=n(1),i=n(377),c=n(844),s=n(831),l=(n(376),n(19)),d=n(21),u=n(46),_=n(3);t.a=Object(l.b)((function(e){return{hide_tooltips:e.main.hide_tooltips}}),(function(e){return Object(d.bindActionCreators)({setHideTooltip:u.l},e)}))((function(e){var t=e.text,n=e.placement,l=void 0===n?"top-center":n,d=e.disabled,u=void 0!==d&&d,b=e.children,f=e.hide_tooltips,p=e.className,h=e.setHideTooltip,j=e.fileName,v=void 0!==j&&j,O=Object(i.b)({delayEnter:0,delayLeave:0}),g=Object(r.a)(O,2),m=g[0],w=g[1],E=o.useRef(!1),x=o.useRef(null);if(v&&"string"===typeof t){for(var C="";t.toString().length>0;)C+=t.toString().substring(0,38)+"\n",t=t.toString().substring(38);t=C}var y=o.useCallback((function(){return x.current&&(clearTimeout(x.current),x.current=null),function(){clearTimeout(x.current)}}),[]);o.useEffect((function(){w&&(f?(E.current||y(),w.onMouseLeave(null,!0)):E.current&&(y(),E.current=!1,w.onMouseEnter(null,!0)),u&&(w.onMouseLeave(null,!0),y()))}),[f,w,y,u,E]);var P=Object(i.c)({isOpen:m,placement:l,triggerOffset:8}),N=P.triggerProps,k=P.layerProps,S=P.arrowProps,L=P.renderLayer;function T(){x.current=null,E.current=!0,h(!1)}function D(){x.current=null,h(!1)}var M={onMouseEnter:function(e){y(),E.current=!0,f||h(!0),x.current=window.setTimeout(T,450)},onMouseLeave:function(e){y(),E.current=!1,f||(h(!0),x.current=window.setTimeout(D,450))},onTouchStart:function(e){return w.onTouchStart(e,!0)},onTouchMove:function(e){return w.onTouchMove(e)},onTouchEnd:function(e){return w.onTouchEnd(e)}},A=u?Object(_.jsx)("span",{className:(p||"")+" -text-wrp",children:b}):Object(_.jsx)("span",Object(a.a)(Object(a.a)(Object(a.a)({className:(p||"")+" -text-wrp"},N),M),{},{children:b}));return Object(_.jsxs)(_.Fragment,{children:[A,!u&&L(Object(_.jsx)(c.a,{children:m&&Object(_.jsxs)(s.a.div,Object(a.a)(Object(a.a)({className:"tooltip-box",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1}},k),{},{children:[t,Object(_.jsx)(i.a,Object(a.a)(Object(a.a)({},S),{},{backgroundColor:"#282A35",borderColor:"#282A35",borderWidth:1,size:6}))]}))}))]})}))},354:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n(24),o=n(1),i=n(355),c=n.n(i),s=n(3);!function(e){e.Default="default",e.Destructive="destructive"}(a||(a={})),t.b=function(e){var t=Object(o.useState)(e.variant||a.Default),n=Object(r.a)(t,2),i=n[0],l=n[1];return Object(o.useEffect)((function(){e.variant&&l(e.variant)}),[e.variant]),Object(s.jsxs)("div",{className:c.a.info_text_group+(e.className?" "+e.className:""),children:[Object(s.jsx)("div",{className:c.a.info_bar+" "+c.a["variant-"+i]}),Object(s.jsx)("div",{className:c.a.info_text,children:e.children})]})}},355:function(e,t,n){e.exports={"variant-default":"InfoBarText_variant-default__1LELi","variant-destructive":"InfoBarText_variant-destructive__1RhKn",info_text_group:"InfoBarText_info_text_group__3EOed",info_bar:"InfoBarText_info_bar__1rZ80",info_text:"InfoBarText_info_text__2bpXy"}},376:function(e,t,n){},383:function(e,t,n){"use strict";var a=n(13),r=n(20),o=n(121),i=n(122),c=n(123),s=n(124),l=n(1),d=n.n(l),u=n(25),_=n(50),b=n(83),f=n(28),p=n(21),h=n(19),j=n(6),v=n(46),O=n(125),g=n(3),m=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).fetchImagePublicUrl=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.m(i.props.file,i.props.main_state);case 2:if(t=e.sent,j.n.logDebug("ImagePreviewModal -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",t),"undefined"!==typeof(n=t.data)._update_main_state&&i.props.updateMainBulkState(n._update_main_state),"undefined"!==typeof n._update_space&&null!==n._update_space&&i.props.updateSpace(n._update_space),"0"===t.error.code){e.next=11;break}return i.props.addNotification({id:Object(u.e)(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(t.error.description)}),i.props.close(),e.abrupt("return");case 11:i.isImage?i.setState({file_public_url:t.data.url}):i.setState({loading:!1,file_public_url:t.data.url,image_loaded:!0});case 12:case"end":return e.stop()}}),e)}))),i.state={loading:!0,image_loaded:!1,file_public_url:""},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchImagePublicUrl()}},{key:"isAudio",get:function(){return this.props.file&&this.props.file.mime_type===_.c.mp3||!1}},{key:"isVideo",get:function(){return this.props.file&&this.props.file.mime_type===_.c.mp4||!1}},{key:"isImage",get:function(){return!this.isAudio&&!this.isVideo}},{key:"render",value:function(){var e=this;return Object(g.jsxs)(O.a,{show:!!this.props.show,className:"w3s-preview-image-modal",size:"lg",title:this.props.file?_.o(this.props.file.base_name):"",handleClose:this.props.close,displayCancel:!1,displayOk:!1,children:[this.state.loading&&Object(g.jsx)(b.a,{}),this.state.file_public_url&&Object(g.jsxs)("div",{style:{display:this.state.image_loaded?"block":"none",position:this.state.image_loaded?"relative":"absolute"},children:[this.isImage&&Object(g.jsx)("img",{src:this.props.file?this.state.file_public_url:"",alt:this.props.file?_.o(this.props.file.base_name):"",style:{maxWidth:"100%",maxHeight:"100%"},onLoad:function(){return e.setState({loading:!1,image_loaded:!0})}}),this.isAudio&&Object(g.jsxs)("audio",{controls:!0,autoPlay:!0,children:[Object(g.jsx)("source",{src:this.props.file?this.state.file_public_url:"",type:"audio/mpeg"}),"Your browser does not support the audio tag."]}),this.isVideo&&Object(g.jsxs)("video",{controls:!0,autoPlay:!0,style:{maxWidth:"100%"},children:[Object(g.jsx)("source",{src:this.props.file?this.state.file_public_url:"",type:"video/mp4"}),"Your browser does not support the video tag."]})]})]})}}]),n}(d.a.Component);t.a=Object(h.b)((function(e){return{main_state:e.main}}),(function(e){return Object(p.bindActionCreators)({addNotification:f.a,updateMainBulkState:v.q,updateSpace:v.r},e)}))(m)},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n(1),o=["title","titleId"];function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s(e,t){var n=e.title,s=e.titleId,l=c(e,o);return r.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},l),n?r.createElement("title",{id:s},n):null,a||(a=r.createElement("path",{d:"M19.4509 2.97969L17.0204 0.549219C16.654 0.183203 16.1743 0 15.6946 0C15.2146 0 14.7349 0.183203 14.3688 0.549219L0.549316 14.3687C-0.183105 15.1012 -0.183105 16.2883 0.549316 17.0203L2.97979 19.4508C3.3458 19.8168 3.82588 20 4.30557 20C4.78525 20 5.26533 19.8168 5.63135 19.4508L19.4505 5.63125C20.1833 4.89922 20.1833 3.71211 19.4509 2.97969ZM4.30596 18.125L1.8751 15.6945L10.6212 6.94727L13.0524 9.37852L4.30596 18.125ZM14.3782 8.05234L11.947 5.62109L15.6927 1.875H15.6946L18.1251 4.30547L14.3782 8.05234ZM16.8751 11.25L15.8337 13.3332L13.7501 14.375L15.8337 15.4168L16.8751 17.5L17.9165 15.4168L20.0001 14.375L17.9165 13.3332L16.8751 11.25ZM8.7501 3.75L9.3751 2.5L10.6251 1.875L9.3751 1.25L8.7501 0L8.1251 1.25L6.8751 1.875L8.1251 2.5L8.7501 3.75ZM3.1251 6.25L4.1665 4.1668L6.2501 3.125L4.1665 2.0832L3.1251 0L2.08369 2.0832L9.76399e-05 3.125L2.08369 4.1668L3.1251 6.25Z",fill:"#282A35"})))}var l=r.forwardRef(s);n.p},402:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,r=n(7),o=n(24),i=n(1),c=n.n(i),s=n(440),l=n(463),d=n(415),u=n(6),_=n(416),b=["title","titleId"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=e.title,r=e.titleId,o=p(e,b);return i.createElement("svg",f({width:9,height:9,viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?i.createElement("title",{id:r},n):null,a||(a=i.createElement("path",{d:"M5.11066 1.6391L7.36102 3.88945L2.47447 8.77599L0.468106 8.99748C0.199512 9.02718 -0.0274217 8.80007 0.00246111 8.53148L0.225703 6.52371L5.11066 1.6391V1.6391ZM8.75285 1.30406L7.69623 0.247437C7.36664 -0.0821533 6.83209 -0.0821533 6.5025 0.247437L5.50846 1.24148L7.75881 3.49183L8.75285 2.49779C9.08244 2.16802 9.08244 1.63365 8.75285 1.30406V1.30406Z",fill:"#282A35"})))}var j=i.forwardRef(h),v=(n.p,n(3));var O,g=function(e){return e.slashed?Object(v.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye-slash",role:"img",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 640 512",children:Object(v.jsx)("path",{fill:"currentColor",d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"})}):Object(v.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"14",viewBox:"0 0 640 512",children:Object(v.jsx)("path",{fill:"currentColor",d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"})})},m=(n(438),n(134)),w=c.a.lazy((function(){return n.e(25).then(n.bind(null,830))}));!function(e){e.LIGHT="light",e.DARK="vs-dark"}(O||(O={}));var E={padding:{top:20,bottom:20},extraEditorClassName:"extraEditorClassName",minimap:{enabled:!1},readOnly:!1,scrollbar:{useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,vertical:"auto",horizontal:"auto",verticalScrollbarSize:10,horizontalScrollbarSize:10,arrowSize:11}},x={height:"100%",width:"100%",defaultLanguage:"javascript",theme:localStorage.getItem("code_editor.theme")||O.LIGHT,defaultValue:" ",path:"",loading:Object(v.jsx)("div",{children:"Loading code..."}),options:E};t.b=function(e){var t=Object(i.useRef)(null),n=Object(i.useState)(!1),a=Object(o.a)(n,2),c=a[0],b=a[1],f=Object(i.useState)(e.editorProps.path||x.path||""),p=Object(o.a)(f,2),h=p[0],O=p[1],C=Object(i.useState)(e.resetContent||!1),y=Object(o.a)(C,2),P=y[0],N=y[1];Object(i.useEffect)((function(){N(e.resetContent||!1)}),[e.resetContent]);var k=Object(i.useState)(e.mardownProps),S=Object(o.a)(k,2),L=S[0],T=S[1];Object(i.useEffect)((function(){T(Object(r.a)({},e.mardownProps)),u.n.logDebug("Editor -> useEffect hook props.mardownProps -> props.mardownProps",e.mardownProps)}),[e.mardownProps]);var D=Object(i.useState)(""),M=Object(o.a)(D,2),A=M[0],R=M[1];Object(i.useEffect)((function(){e.editorProps.value&&e.editorProps.value!==A&&R(e.editorProps.value)}),[A,e.editorProps.value]);var I=Object(i.useState)(!1),F=Object(o.a)(I,2),U=F[0],B=F[1];Object(i.useEffect)((function(){B(!!e.displayDiffEditor&&!e.isCaseMode)}),[e.displayDiffEditor,e.isCaseMode]);var H=Object(i.useState)(!1),Y=Object(o.a)(H,2),V=Y[0],K=Y[1];Object(i.useEffect)((function(){K(!!e.displayDiffEditor&&!!e.isCaseMode)}),[e.displayDiffEditor,e.isCaseMode]);var z=Object(i.useState)(!1),W=Object(o.a)(z,2),q=W[0],Z=W[1],G=Object(i.useState)(!1),X=Object(o.a)(G,2),Q=X[0],J=X[1],$=Object(i.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ne=ee[1];Object(i.useEffect)((function(){te&&(ne(!1),e.toggleTheme())}),[e,te]);var ae=Object(i.useMemo)((function(){return{TOGGLE_DARK_LIGHT_THEME:"alt+t",SAVE:"ctrl+s"}}),[]),re=Object(i.useCallback)((function(){t.current&&t.current.updateOptions(Object(r.a)({},e.editorProps))}),[e.editorProps]),oe=Object(i.useCallback)((function(t){u.n.logDebug("Editor -> hotkeyToggleDarkLightTheme"),t&&t.preventDefault(),e.toggleTheme()}),[e]),ie=Object(i.useCallback)((function(){var e="";return c&&t.current&&(e=t.current.getValue()),u.n.logDebug("Editor -> getEditorContents -> returnValue",e),e}),[c]),ce=Object(i.useCallback)((function(){u.n.logDebug("Editor -> handleSave"),R(ie()),e.onSave&&e.onSave(t.current)}),[ie,e]),se=Object(i.useCallback)((function(e){e&&e.preventDefault(),u.n.logDebug("Editor -> hotKeyHandleSave"),ce()}),[ce]),le=Object(i.useMemo)((function(){return{TOGGLE_DARK_LIGHT_THEME:oe,SAVE:se}}),[se,oe]),de=Object(i.useCallback)((function(){var t=ie(),n=A===t;u.n.logDebug("Editor -> onEditorChange -> [sameAsCached, currentContents]",n,t),e.onChangedContents&&e.onChangedContents(n,t)}),[A,ie,e]);return Object(i.useEffect)((function(){Q&&(J(!1),de())}),[de,Q]),Object(i.useEffect)((function(){q&&(Z(!1),ce())}),[ce,q]),Object(i.useEffect)((function(){e.editorProps.path&&e.editorProps.path!==h&&(R(e.editorProps.defaultValue||""),O(e.editorProps.path||""))}),[h,e.editorProps.defaultValue,e.editorProps.path]),Object(i.useEffect)((function(){P&&(N(!1),t.current&&t.current.setValue(A),e.contentHasBeenReset&&e.contentHasBeenReset(A))}),[A,e,P]),Object(i.useEffect)((function(){u.n.logDebug("Editor -> useEffect hook props.editorProps, props.editorProps.options"),re()}),[re,e.editorProps,e.editorProps.options]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.GlobalHotKeys,{keyMap:ae,handlers:le}),Object(v.jsxs)("div",{className:"CodeEditor-container"+(V?" editor_display_double_editor":""),children:[U&&Object(v.jsx)(i.Suspense,{fallback:Object(v.jsx)(m.a,{}),children:Object(v.jsx)(w,Object(r.a)(Object(r.a)({},e.diffEditor),{},{isCaseMode:e.isCaseMode}))}),V&&Object(v.jsx)(s.b,Object(r.a)(Object(r.a)(Object(r.a)({className:"editor_left"},x),e.editorProps),{},{value:e.diffEditor.diffEditorProps.original,defaultValue:e.diffEditor.diffEditorProps.original,path:"original_Item",options:Object(r.a)(Object(r.a)({},E),{},{readOnly:!0}),onMount:void 0})),Object(v.jsx)(s.b,Object(r.a)(Object(r.a)(Object(r.a)({className:U?" d-none":""},x),e.editorProps),{},{onMount:function(n,a){u.n.logDebug("Editor -> handleEditorDidMount -> instantiated",c),c||(b(!0),n.addAction({id:"TOGGLE_DARK_LIGHT_THEME",label:"Toggle dark/light theme",precondition:void 0,keybindingContext:void 0,contextMenuGroupId:"navigation",contextMenuOrder:1.5,keybindings:[d.b.Alt|d.a.KEY_T],run:function(e){u.n.logDebug('Editor -> handleEditorDidMount -> editor.addAction({id: "TOGGLE_DARK_LIGHT_THEME") -> run'),ne(!0)}}),n.addAction({id:"SAVE",label:"Save",keybindings:[d.b.CtrlCmd|d.a.KEY_S],run:function(e){u.n.logDebug('Editor -> handleEditorDidMount -> editor.addAction({id: "SAVE") -> run'),Z(!0)}}),n.onDidChangeModelContent((function(){u.n.logDebug("Editor -> handleEditorDidMount -> onDidChangeModelContent"),J(!0)})),t.current=n,e.editorProps.onMount&&e.editorProps.onMount(n,a))},beforeMount:function(e){u.n.logDebug("Editor -> handleEditorBeforeMount -> monaco",e)}})),!!L&&!!L.preview&&!!L.code&&Object(v.jsx)(_.a,{className:"code_editor_markdown"+(L.className?" "+L.className:""),code:L.code})]}),!!L&&!!L.code&&Object(v.jsx)("div",{className:"edit_markdown_group",children:Object(v.jsxs)("div",{className:"edit_markdown_button"+(L.disable?" disabled":""),onClick:L.onClick,children:[L.preview?"Edit markdown":"Preview markdown",L.preview?Object(v.jsx)(j,{className:"code_editor_pencil_icon"}):Object(v.jsx)(g,{slashed:!1})]})})]})}},415:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a,r=n(122),o=n(121);!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(a||(a={}));var i=Object(r.a)((function e(){Object(o.a)(this,e)}));i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256},416:function(e,t,n){"use strict";var a=n(7),r=n(178),o=n(832),i=n(801),c=n(804),s=(n(465),n(840)),l=n(826),d=n(466),u=n.n(d),_=n(805),b=n(3),f=["node","inline","className","children"];t.a=function(e){return Object(b.jsx)("div",{className:"markdown-body "+u.a.markdown_body+(e.className?" "+e.className:""),children:Object(b.jsx)(o.a,{children:e.code,remarkPlugins:[i.a],rehypePlugins:[c.a,_.a],components:{code:function(e){e.node;var t=e.inline,n=e.className,o=e.children,i=Object(r.a)(e,f),c=/language-(\w+)/.exec(n||"");return!t&&c?Object(b.jsx)(s.a,Object(a.a)({children:String(o).replace(/\n$/,""),style:l.a,language:c[1],PreTag:"div"},i)):Object(b.jsx)("code",Object(a.a)(Object(a.a)({className:n},i),{},{children:o}))}}})})}},438:function(e,t,n){},462:function(e,t,n){e.exports={container_fluid_override:"CodeEditorPage_container_fluid_override__9bAlN",code_editor_page:"CodeEditorPage_code_editor_page__2X8Re",body:"CodeEditorPage_body__m0hnp",code_editor:"CodeEditorPage_code_editor__24o14",preview_horizontal:"CodeEditorPage_preview_horizontal__2DtgP",editor_group:"CodeEditorPage_editor_group__2Nj7r",buttons_preview_pane:"CodeEditorPage_buttons_preview_pane__1uTBu",preview_btn_mobile:"CodeEditorPage_preview_btn_mobile__1A-u-",buttons_preview_editor:"CodeEditorPage_buttons_preview_editor__3EelJ",panel_content:"CodeEditorPage_panel_content__BCANR",footer:"CodeEditorPage_footer__1jEPl",case_footer:"CodeEditorPage_case_footer__17hVr",case_footer_end_group:"CodeEditorPage_case_footer_end_group__2pA4d",case_nav_button:"CodeEditorPage_case_nav_button__3_VpB",case_nav_button_long:"CodeEditorPage_case_nav_button_long__3PauV",case_btn_light:"CodeEditorPage_case_btn_light__Vg1iW",case_btn_dark:"CodeEditorPage_case_btn_dark__1XrUw",diff_group:"CodeEditorPage_diff_group__24Pxx",active:"CodeEditorPage_active__18lTb",code_editor_hint_key:"CodeEditorPage_code_editor_hint_key__2FAB4",code_editor_button:"CodeEditorPage_code_editor_button__2fQcq",preview_error:"CodeEditorPage_preview_error__2efPd",type_error:"CodeEditorPage_type_error__XQpJ1",loader:"CodeEditorPage_loader__1Ea91",loading:"CodeEditorPage_loading__IDgVS",loading_timer_text:"CodeEditorPage_loading_timer_text__2L-X2",save_button:"CodeEditorPage_save_button__1p0L8",back_button:"CodeEditorPage_back_button__1RPps",button_group:"CodeEditorPage_button_group__n_NMN"}},466:function(e,t,n){e.exports={markdown_body:"MarkdownViewer_markdown_body__YAAqc"}},761:function(e,t,n){e.exports={editor_group:"CodeEditor_editor_group__1XN46",code_editor_top_bar:"CodeEditor_code_editor_top_bar__55XII",code_editor_top_bar_start:"CodeEditor_code_editor_top_bar_start__241CN",code_editor_top_bar_end:"CodeEditor_code_editor_top_bar_end___w07U",tab_item:"CodeEditor_tab_item__1R50m",cursor_pointer:"CodeEditor_cursor_pointer__2w8Dc",active_tab:"CodeEditor_active_tab__jxGJI",live_switch_group:"CodeEditor_live_switch_group__1sOVG",switch_label:"CodeEditor_switch_label__3OzEZ",run_btn:"CodeEditor_run_btn__2RLSt",editor:"CodeEditor_editor__3PK1t",has_markdown:"CodeEditor_has_markdown__1_fyt",diff_header:"CodeEditor_diff_header__3cBLC",diff_top_bar:"CodeEditor_diff_top_bar__BFDIc",diff_header_left:"CodeEditor_diff_header_left__15scz",is_case_mode:"CodeEditor_is_case_mode__2-MrC",diff_header_right:"CodeEditor_diff_header_right__14rVF",diff_header_border:"CodeEditor_diff_header_border__bwakr"}},763:function(e,t,n){e.exports={panel_button:"PanelIcon_panel_button__2rI33",disabled:"PanelIcon_disabled__1SwP_",active:"PanelIcon_active__Hglm8",locked_icon:"PanelIcon_locked_icon__3lTaY"}},764:function(e,t,n){e.exports={footer_text:"TextScroller_footer_text__1FDNK",display:"TextScroller_display__AV1hW",move:"TextScroller_move__1UnPp"}},765:function(e,t,n){e.exports={display_preview:"PreviewPane_display_preview__936zc",preview_pane:"PreviewPane_preview_pane__3tbF4",preview_horizontal:"PreviewPane_preview_horizontal__3IzRC",preview_top_bar:"PreviewPane_preview_top_bar__32gFo",preview_top_top_bar:"PreviewPane_preview_top_top_bar__1gmTl",preview_top_bottom_bar:"PreviewPane_preview_top_bottom_bar__FwYzL",enable_scroll:"PreviewPane_enable_scroll__2iza8",markdown:"PreviewPane_markdown__2uRCS",preview_content:"PreviewPane_preview_content__3qQ52",preview_size_tab:"PreviewPane_preview_size_tab__1v7PH",display_iframe_overlay:"PreviewPane_display_iframe_overlay__1oAoW",preview_address_field:"PreviewPane_preview_address_field__2kb9f",preview_pane_splitter:"PreviewPane_preview_pane_splitter__39yGh",buttons_preview_pane:"PreviewPane_buttons_preview_pane__odBtV",is_loading:"PreviewPane_is_loading__5OGc5",run_btn:"PreviewPane_run_btn__3sA_1",type_blob:"PreviewPane_type_blob__2-623",preview_error:"PreviewPane_preview_error__1mSCM"}},766:function(e,t,n){},767:function(e,t,n){e.exports={panel:"LeftPanel_panel__3J9fc",open_panel:"LeftPanel_open_panel__2QQEJ",panel_icons:"LeftPanel_panel_icons__2Wo0e",panel_bottom_view:"LeftPanel_panel_bottom_view__2x0sw",panel_top_view:"LeftPanel_panel_top_view__3WPTe",last_panel_item:"LeftPanel_last_panel_item__3BraG",panel_content:"LeftPanel_panel_content__3-Qad",close_panel_column:"LeftPanel_close_panel_column__20NRp",panel_splitter:"LeftPanel_panel_splitter__m_OMt",opacity_100:"LeftPanel_opacity_100__1VlYu",display_preview:"LeftPanel_display_preview__3z2Zu"}},768:function(e,t,n){e.exports={button_group:"ButtonGroup_button_group__3JoUH",disabled:"ButtonGroup_disabled__3fx5K",btn:"ButtonGroup_btn__F58CW",_group_btn_active:"ButtonGroup__group_btn_active__2Vh2O"}},769:function(e,t,n){e.exports={header:"TopHeaderGroup_header__1eqjB",header_top_row:"TopHeaderGroup_header_top_row__2PaWR",header_buttons_left:"TopHeaderGroup_header_buttons_left__2xT-n",header_buttons_middle:"TopHeaderGroup_header_buttons_middle__19012",header_buttons_right:"TopHeaderGroup_header_buttons_right__3kLzP"}},770:function(e,t,n){e.exports={content:"ShortcutModal_content__2qJDO",left_content:"ShortcutModal_left_content__3XSWO",right_content:"ShortcutModal_right_content__1VK0p",header:"ShortcutModal_header__1dAFx",item:"ShortcutModal_item__gbm3s",item_end:"ShortcutModal_item_end__1knd-",key:"ShortcutModal_key__k1-N3",key_l:"ShortcutModal_key_l__vm3IB",key_xl:"ShortcutModal_key_xl__jYH3k",row:"ShortcutModal_row__2u5_b",info_bar_text:"ShortcutModal_info_bar_text__2_qpu"}},835:function(e,t,n){"use strict";n.r(t);var a,r=n(13),o=n(20),i=n(35),c=n(24),s=n(1),l=n.n(s),d=n(18),u=n(19),_=n(42),b=n.n(_),f=n(126),p=n(462),h=n.n(p),j=n(6),v=["title","titleId"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t){var n=e.title,r=e.titleId,o=g(e,v);return s.createElement("svg",O({width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},o),n?s.createElement("title",{id:r},n):null,a||(a=s.createElement("path",{d:"M0.390625 12.5C0.390625 19.1878 5.81216 24.6094 12.5 24.6094C19.1878 24.6094 24.6094 19.1878 24.6094 12.5C24.6094 5.81221 19.1878 0.390625 12.5 0.390625C5.81221 0.390625 0.390625 5.81216 0.390625 12.5ZM12.5 21.4844V3.51562C17.4661 3.51562 21.4844 7.53472 21.4844 12.5C21.4844 17.4661 17.4653 21.4844 12.5 21.4844Z",fill:"#282A35"})))}var w=s.forwardRef(m),E=(n.p,n(50)),x=n(402),C=n(7),y=n(761),P=n.n(y),N=n(339),k=n(762),S=n(3);var L=function(e){var t,n=Object(s.useState)(!0),a=Object(c.a)(n,2),r=a[0],o=a[1];return Object(s.useEffect)((function(){var t,n;void 0!==(null===(t=e.diffEditor.diffEditorProps.options)||void 0===t?void 0:t.renderSideBySide)&&o(null===(n=e.diffEditor.diffEditorProps.options)||void 0===n?void 0:n.renderSideBySide)}),[null===(t=e.diffEditor.diffEditorProps.options)||void 0===t?void 0:t.renderSideBySide]),Object(S.jsxs)("div",{className:P.a.editor_group+(e.className?" "+e.className:""),children:[Object(S.jsx)("div",{className:P.a.code_editor_top_bar+(e.displayDiffEditor?" "+P.a.diff_top_bar:"")+(r?"":" d-none"),children:e.displayDiffEditor?Object(S.jsxs)("div",{className:P.a.diff_header,children:[Object(S.jsx)("div",{className:P.a.diff_header_left+(e.isCaseMode?" "+P.a.is_case_mode:""),children:"Original"}),Object(S.jsx)("div",{className:P.a.diff_header_border}),Object(S.jsx)("div",{className:P.a.diff_header_right,children:"Modified"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:P.a.code_editor_top_bar_start,children:e.activeTab>-1&&Object(S.jsx)(N.a,{text:e.tabs[e.activeTab].path,placement:"top-start",children:Object(S.jsx)("div",{className:P.a.tab_item,children:E.o(e.tabs[e.activeTab].name)+(e.tabs[e.activeTab].canBeSaved?"*":"")})})}),Object(S.jsxs)("div",{className:P.a.code_editor_top_bar_end,children:[e.displayLivePreview&&Object(S.jsx)(N.a,{text:"This works best with files kept in your Space. The beta version might have limitations. Read about it at our knowledge base. Are you stuck? Try toggle off the Live preview and press \u201cRun.\u201d",placement:"bottom-center",children:Object(S.jsxs)("div",{className:P.a.live_switch_group,children:[Object(S.jsx)("label",{className:P.a.switch_label,htmlFor:"livePreviewSwitch",children:"Live preview (beta)"}),Object(S.jsxs)("div",{className:"custom-control custom-switch",children:[Object(S.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"livePreviewSwitch",readOnly:!0,disabled:e.disableLivePreview,checked:e.livePreviewChecked,onClick:e.onClickLivePreview}),Object(S.jsx)("label",{className:"custom-control-label",htmlFor:"livePreviewSwitch"})]})]})}),Object(S.jsx)(N.a,{text:"Save and run code in preview.",placement:"bottom-center",children:Object(S.jsxs)("button",{className:P.a.run_btn,disabled:e.disableRun,onClick:e.onClickRun,children:["RUN",Object(S.jsx)(k.a,{})]})})]})]})}),Object(S.jsx)("div",{className:P.a.editor+(e.displayPreviewMarkdown?" "+P.a.has_markdown:""),children:Object(S.jsx)(x.b,Object(C.a)(Object(C.a)({},e.editor),{},{displayDiffEditor:e.displayDiffEditor,diffEditor:e.diffEditor,isCaseMode:e.isCaseMode}))})]})},T=n(41),D=function(e){return unescape(encodeURIComponent(e)).length},M=n(46),A=n(28),R=n(25),I=n(83),F=n(337),U=n(763),B=n.n(U);var H,Y=function(e){var t=Object(s.useState)(e.fill?e.fill:"#282a35"),n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(s.useEffect)((function(){r(e.fill||"#282a35")}),[e.fill]),Object(S.jsx)("div",{className:e.className,children:Object(S.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"lock",className:"svg-inline--fa fa-lock fa-w-14",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(S.jsx)("path",{fill:a,d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"})})})};!function(e){e.HowTo="how_to",e.Folders="folders",e.DarkLight="dark_light",e.Case="case",e.Shortcut="shortcut"}(H||(H={}));var V,K=function(e){function t(t){t.preventDefault(),t.stopPropagation(),e.disabled||e.handleClick&&e.handleClick(t,e.type)}return e.tooltip?Object(S.jsx)(N.a,{text:e.tooltip,placement:"right-center",children:Object(S.jsxs)("div",{className:B.a.panel_button+(e.disabled||e.locked?" "+B.a.disabled:"")+(e.active?" "+B.a.active:"")+(e.className?" "+e.className:""),onClick:t,children:[e.children,e.locked&&Object(S.jsx)(Y,{className:B.a.locked_icon})]})}):Object(S.jsxs)("div",{className:B.a.panel_button+(e.disabled||e.locked?" "+B.a.disabled:"")+(e.active?" "+B.a.active:"")+(e.className?" "+e.className:""),onClick:t,children:[e.children,e.locked&&Object(S.jsx)(Y,{className:B.a.locked_icon})]})},z=["title","titleId"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}function q(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z(e,t){var n=e.title,a=e.titleId,r=q(e,z);return s.createElement("svg",W({xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",focusable:"false","data-prefix":"fal","data-icon":"book",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"svg-inline--fa fa-book fa-w-14 fa-flip-horizontal fa-flip-vertical fa-5x",width:448,height:512,ref:t,"aria-labelledby":a},r),n?s.createElement("title",{id:a},n):null,V||(V=s.createElement("path",{d:"M356 160H188c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12zm12 52v-8c0-6.6-5.4-12-12-12H188c-6.6 0-12 5.4-12 12v8c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12zm64.7 268h3.3c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12H80c-44.2 0-80-35.8-80-80V80C0 35.8 35.8 0 80 0h344c13.3 0 24 10.7 24 24v368c0 10-6.2 18.6-14.9 22.2-3.6 16.1-4.4 45.6-.4 65.8zM128 384h288V32H128v352zm-96 16c13.4-10 30-16 48-16h16V32H80c-26.5 0-48 21.5-48 48v320zm372.3 80c-3.1-20.4-2.9-45.2 0-64H80c-64 0-64 64 0 64h324.3z",className:""})))}var G=s.forwardRef(Z),X=(n.p,n(398));var Q=function(e){return Object(S.jsxs)("svg",{width:"384",height:"512",viewBox:"0 0 384 512",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className?e.className:"",children:[Object(S.jsx)("g",{clipPath:"url(#clip0_3379_66769)",children:Object(S.jsx)("path",{d:"M369.9 97.8999L286 13.9999C277 4.9999 264.8 -0.100098 252.1 -0.100098H48C21.5 -9.76548e-05 0 21.4999 0 47.9999V464C0 490.5 21.5 512 48 512H336C362.5 512 384 490.5 384 464V131.9C384 119.2 378.9 106.9 369.9 97.8999ZM347.3 120.6C349.4 122.7 350.8 125.2 351.5 128H256V32.4999C258.8 33.1999 261.3 34.5999 263.4 36.6999L347.3 120.6ZM336 480H48C39.2 480 32 472.8 32 464V47.9999C32 39.1999 39.2 31.9999 48 31.9999H224V136C224 149.3 234.7 160 248 160H352V464C352 472.8 344.8 480 336 480Z",fill:"#282A35"})}),Object(S.jsx)("defs",{children:Object(S.jsx)("clipPath",{id:"clip0_3379_66769",children:Object(S.jsx)("rect",{width:"384",height:"512",fill:"white"})})})]})};var J=function(e){return Object(S.jsxs)("svg",{width:"22",height:"21",viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(S.jsxs)("g",{clipPath:"url(#clip0_3627_72800)",children:[Object(S.jsx)("rect",{width:"22",height:"19.5556",transform:"translate(0 0.945312)",fill:"transparent"}),Object(S.jsx)("path",{d:"M20.1667 3.39062H1.83333C0.820799 3.39062 0 4.21142 0 5.22396V16.224C0 17.2365 0.820799 18.0573 1.83333 18.0573H20.1667C21.1792 18.0573 22 17.2365 22 16.224V5.22396C22 4.21142 21.1792 3.39062 20.1667 3.39062ZM20.4722 16.224C20.4722 16.3924 20.3351 16.5295 20.1667 16.5295H1.83333C1.66486 16.5295 1.52778 16.3924 1.52778 16.224V5.22396C1.52778 5.05548 1.66486 4.9184 1.83333 4.9184H20.1667C20.3351 4.9184 20.4722 5.05548 20.4722 5.22396V16.224ZM6.49306 11.2587V10.1892C6.49306 9.93612 6.28784 9.7309 6.03472 9.7309H4.96528C4.71216 9.7309 4.50694 9.93612 4.50694 10.1892V11.2587C4.50694 11.5118 4.71216 11.717 4.96528 11.717H6.03472C6.28784 11.717 6.49306 11.5118 6.49306 11.2587ZM10.1597 11.2587V10.1892C10.1597 9.93612 9.9545 9.7309 9.70139 9.7309H8.63194C8.37883 9.7309 8.17361 9.93612 8.17361 10.1892V11.2587C8.17361 11.5118 8.37883 11.717 8.63194 11.717H9.70139C9.9545 11.717 10.1597 11.5118 10.1597 11.2587ZM13.8264 11.2587V10.1892C13.8264 9.93612 13.6212 9.7309 13.3681 9.7309H12.2986C12.0455 9.7309 11.8403 9.93612 11.8403 10.1892V11.2587C11.8403 11.5118 12.0455 11.717 12.2986 11.717H13.3681C13.6212 11.717 13.8264 11.5118 13.8264 11.2587ZM17.4931 11.2587V10.1892C17.4931 9.93612 17.2878 9.7309 17.0347 9.7309H15.9653C15.7122 9.7309 15.5069 9.93612 15.5069 10.1892V11.2587C15.5069 11.5118 15.7122 11.717 15.9653 11.717H17.0347C17.2878 11.717 17.4931 11.5118 17.4931 11.2587ZM4.65972 14.3906V13.3212C4.65972 13.0681 4.4545 12.8628 4.20139 12.8628H3.13194C2.87883 12.8628 2.67361 13.0681 2.67361 13.3212V14.3906C2.67361 14.6437 2.87883 14.849 3.13194 14.849H4.20139C4.4545 14.849 4.65972 14.6437 4.65972 14.3906ZM19.3264 14.3906V13.3212C19.3264 13.0681 19.1212 12.8628 18.8681 12.8628H17.7986C17.5455 12.8628 17.3403 13.0681 17.3403 13.3212V14.3906C17.3403 14.6437 17.5455 14.849 17.7986 14.849H18.8681C19.1212 14.849 19.3264 14.6437 19.3264 14.3906ZM4.65972 8.12674V7.05729C4.65972 6.80418 4.4545 6.59896 4.20139 6.59896H3.13194C2.87883 6.59896 2.67361 6.80418 2.67361 7.05729V8.12674C2.67361 8.37985 2.87883 8.58507 3.13194 8.58507H4.20139C4.4545 8.58507 4.65972 8.37985 4.65972 8.12674ZM8.32639 8.12674V7.05729C8.32639 6.80418 8.12117 6.59896 7.86806 6.59896H6.79861C6.5455 6.59896 6.34028 6.80418 6.34028 7.05729V8.12674C6.34028 8.37985 6.5455 8.58507 6.79861 8.58507H7.86806C8.12117 8.58507 8.32639 8.37985 8.32639 8.12674ZM11.9931 8.12674V7.05729C11.9931 6.80418 11.7878 6.59896 11.5347 6.59896H10.4653C10.2122 6.59896 10.0069 6.80418 10.0069 7.05729V8.12674C10.0069 8.37985 10.2122 8.58507 10.4653 8.58507H11.5347C11.7878 8.58507 11.9931 8.37985 11.9931 8.12674ZM15.6597 8.12674V7.05729C15.6597 6.80418 15.4545 6.59896 15.2014 6.59896H14.1319C13.8788 6.59896 13.6736 6.80418 13.6736 7.05729V8.12674C13.6736 8.37985 13.8788 8.58507 14.1319 8.58507H15.2014C15.4545 8.58507 15.6597 8.37985 15.6597 8.12674ZM19.3264 8.12674V7.05729C19.3264 6.80418 19.1212 6.59896 18.8681 6.59896H17.7986C17.5455 6.59896 17.3403 6.80418 17.3403 7.05729V8.12674C17.3403 8.37985 17.5455 8.58507 17.7986 8.58507H18.8681C19.1212 8.58507 19.3264 8.37985 19.3264 8.12674ZM15.5833 14.1615V13.5503C15.5833 13.2972 15.3781 13.092 15.125 13.092H6.875C6.62189 13.092 6.41667 13.2972 6.41667 13.5503V14.1615C6.41667 14.4146 6.62189 14.6198 6.875 14.6198H15.125C15.3781 14.6198 15.5833 14.4146 15.5833 14.1615Z",fill:"#282A35"})]}),Object(S.jsx)("defs",{children:Object(S.jsx)("clipPath",{id:"clip0_3627_72800",children:Object(S.jsx)("rect",{width:"22",height:"19.5556",transform:"translate(0 0.945312)"})})})]})};var $,ee=function(e){var t=e.size,n=e.className;return Object(S.jsx)("svg",{className:n,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M13.5 9.5H13C12.8674 9.5 12.7402 9.55268 12.6464 9.64645C12.5527 9.74021 12.5 9.86739 12.5 10V14.8125C12.5 14.8622 12.4802 14.9099 12.4451 14.9451C12.4099 14.9802 12.3622 15 12.3125 15H1.6875C1.63777 15 1.59008 14.9802 1.55492 14.9451C1.51975 14.9099 1.5 14.8622 1.5 14.8125V4.1875C1.5 4.13777 1.51975 4.09008 1.55492 4.05492C1.59008 4.01975 1.63777 4 1.6875 4H6.5C6.63261 4 6.75979 3.94732 6.85355 3.85355C6.94732 3.75979 7 3.63261 7 3.5V3C7 2.86739 6.94732 2.74021 6.85355 2.64645C6.75979 2.55268 6.63261 2.5 6.5 2.5H1.5C1.10218 2.5 0.720644 2.65804 0.43934 2.93934C0.158035 3.22064 0 3.60218 0 4L0 15C0 15.3978 0.158035 15.7794 0.43934 16.0607C0.720644 16.342 1.10218 16.5 1.5 16.5H12.5C12.8978 16.5 13.2794 16.342 13.5607 16.0607C13.842 15.7794 14 15.3978 14 15V10C14 9.86739 13.9473 9.74021 13.8536 9.64645C13.7598 9.55268 13.6326 9.5 13.5 9.5ZM15.625 0.5H11.375C11.3009 0.500065 11.2284 0.522094 11.1668 0.563304C11.1052 0.604514 11.0572 0.663057 11.0289 0.731538C11.0005 0.80002 10.9931 0.875369 11.0075 0.948068C11.022 1.02077 11.0576 1.08756 11.11 1.14L12.6159 2.64656L4.10969 11.1528C4.07473 11.1877 4.04699 11.229 4.02806 11.2746C4.00913 11.3202 3.99939 11.3691 3.99939 11.4184C3.99939 11.4678 4.00913 11.5167 4.02806 11.5622C4.04699 11.6078 4.07473 11.6492 4.10969 11.6841L4.81687 12.3912C4.85171 12.4262 4.89311 12.4539 4.93869 12.4729C4.98427 12.4918 5.03314 12.5015 5.0825 12.5015C5.13186 12.5015 5.18073 12.4918 5.22631 12.4729C5.27189 12.4539 5.31329 12.4262 5.34812 12.3912L13.8544 3.88469L15.3609 5.39094C15.4135 5.44305 15.4803 5.47845 15.5529 5.49268C15.6255 5.50691 15.7007 5.49933 15.7691 5.47089C15.8374 5.44246 15.8958 5.39444 15.9369 5.33289C15.978 5.27134 15.9999 5.19901 16 5.125V0.875C16 0.775544 15.9605 0.680161 15.8902 0.609835C15.8198 0.539509 15.7245 0.5 15.625 0.5V0.5Z"})})},te=n(764),ne=n.n(te);!function(e){e.ERROR="error",e.DEFAULT="default"}($||($={}));var ae=function(e){var t=l.a.createRef(),n=l.a.useRef(null),a=l.a.useRef(null),r=l.a.useRef(0),o=l.a.useState(0),i=Object(c.a)(o,2),s=i[0],d=i[1],u=l.a.useState(!1),_=Object(c.a)(u,2),b=_[0],f=_[1],p=l.a.useState(!1),h=Object(c.a)(p,2),j=h[0],v=h[1],O=l.a.useState(!1),g=Object(c.a)(O,2),m=g[0],w=g[1],E=l.a.useCallback((function(){if(t.current){var e=t.current.children.item(0);!j&&e.clientWidth+30>=window.innerWidth?a.current=setTimeout((function(){a.current=null,v(!0)}),2e3):j&&v(!1)}}),[t,j]),x=l.a.useCallback((function(e){E()}),[E]),C=l.a.useCallback((function(){f(!1),a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout((function(){a.current=null;var t=r.current;t===e.list.length-1?t=0:t+=1,d(t),e.handleActiveTextSet&&e.handleActiveTextSet(t),f(!0)}),600)}),[e]);return l.a.useEffect((function(){r.current=s}),[s]),l.a.useEffect((function(){return window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}}),[]),l.a.useEffect((function(){m||(w(!0),a.current=setTimeout((function(){a.current=null,f(!0),n.current=setInterval((function(){e.list.length>1&&C()}),3e4)}),2e3))}),[E,m,e.list.length,C]),l.a.useEffect((function(){b&&E()}),[b]),l.a.useEffect((function(){return function(){n.current&&(clearInterval(n.current),n.current=null),a.current&&(clearTimeout(a.current),a.current=null)}}),[]),Object(S.jsx)("div",{ref:t,className:ne.a.footer_text+(b?" "+ne.a.display:"")+(j?" "+ne.a.move:"")+(e.className?" "+e.className:""),children:e.list[s].element})};var re,oe,ie=function(e){var t=e.size,n=e.className;return Object(S.jsx)("svg",{className:n,width:t,height:t,viewBox:"0 0 16 17",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{d:"M15.625 0.750008H14.759C14.5484 0.750008 14.3791 0.923383 14.3841 1.13395L14.4575 4.2142C13.0649 2.11982 10.6809 0.74157 7.97523 0.750039C3.71313 0.763383 0.243353 4.25029 0.25001 8.51238C0.256697 12.7869 3.72392 16.25 8.00001 16.25C9.9977 16.25 11.8188 15.4942 13.1931 14.2529C13.3529 14.1086 13.3604 13.8604 13.2081 13.7081L12.5913 13.0913C12.4508 12.9507 12.224 12.9418 12.0757 13.074C10.9934 14.0389 9.56579 14.625 8.00001 14.625C4.61495 14.625 1.87501 11.8856 1.87501 8.50001C1.87501 5.11495 4.61445 2.37501 8.00001 2.37501C10.4858 2.37501 12.6232 3.85257 13.5836 5.9782L9.63395 5.88416C9.42342 5.87916 9.25001 6.04844 9.25001 6.25907V7.12501C9.25001 7.3321 9.41792 7.50001 9.62501 7.50001H15.625C15.8321 7.50001 16 7.3321 16 7.12501V1.12501C16 0.917914 15.8321 0.750008 15.625 0.750008Z"})})},ce=n(765),se=n.n(ce),le=n(416);!function(e){e.DEFAULT="default",e.BLOB="blob"}(re||(re={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical",e.NONE="none"}(oe||(oe={}));var de=function(e){var t=l.a.useRef({width:0,height:0,x:0,y:0}),n=l.a.useState(0),a=Object(c.a)(n,2),r=a[0],o=a[1],i=l.a.useState(0),s=Object(c.a)(i,2),d=s[0],u=s[1],_=l.a.useState(!1),b=Object(c.a)(_,2),f=b[0],p=b[1],h=l.a.useState(e.orientation===oe.NONE?oe.VERTICAL:e.orientation),j=Object(c.a)(h,2),v=j[0],O=j[1],g=l.a.useRef(null),m=l.a.useMemo((function(){return"Preview-window-"+Object(R.e)()}),[]),w=l.a.useState(!!e.loading),E=Object(c.a)(w,2),x=E[0],C=E[1];function y(n){var a,r;n.preventDefault(),n.stopPropagation(),t.current.width=(null===(a=e.refPreviewPane.current)||void 0===a?void 0:a.clientWidth)||0,t.current.height=(null===(r=e.refPreviewPane.current)||void 0===r?void 0:r.clientHeight)||0,t.current.x=n.clientX||n.targetTouches[0].clientX,t.current.y=n.clientY||n.targetTouches[0].clientY,document.addEventListener("mousemove",k),document.addEventListener("mouseup",P),document.addEventListener("touchmove",k),document.addEventListener("touchend",P),p(!0),e.handleMouseDownResizer&&e.handleMouseDownResizer(n)}function P(t){t.preventDefault(),t.stopPropagation(),document.removeEventListener("mouseup",P),document.removeEventListener("mousemove",k),document.removeEventListener("touchmove",k),document.removeEventListener("touchend",P),p(!1),e.handleMouseUpResizer&&e.handleMouseUpResizer(t)}function k(n){n&&n.preventDefault(),n&&n.stopPropagation();var a=document.getElementById(m),r=0;if(a&&t.current&&n){if(v===oe.HORIZONTAL){var o=0;n.clientY&&n.clientY>0?o=n.clientY:n.targetTouches&&n.targetTouches.length>0&&(o=n.targetTouches[0].clientY);var i=t.current.height-(o-t.current.y);i&&a.style&&(r=Math.abs(i),a.style.height=r+"px")}else{var c=0;n.clientX&&n.clientX>0?c=n.clientX:n.targetTouches&&n.targetTouches.length>0&&(c=n.targetTouches[0].clientX);var s=t.current.width-(c-t.current.x);s&&a.style&&(r=Math.abs(s),a.style.width=r+"px")}e.handleMouseMoveResizer&&e.handleMouseMoveResizer(n,r)}}return l.a.useEffect((function(){C(!!e.loading&&!e.displayError)}),[e.loading,e.displayError]),l.a.useEffect((function(){e.orientation===oe.NONE?O((function(e){return e===oe.NONE?oe.VERTICAL:e})):O(e.orientation)}),[e.orientation]),l.a.useEffect((function(){return g.current=new ResizeObserver((function(e){o(Math.round(e[0].contentRect.width)),u(Math.round(e[0].contentRect.height))})),e.refPreviewPane.current&&g.current&&g.current.observe(e.refPreviewPane.current),function(){g.current&&g.current.disconnect()}}),[e.refPreviewPane]),l.a.useEffect((function(){return e.handleMounted&&e.handleMounted(),function(){g.current&&g.current.disconnect()}}),[]),Object(S.jsxs)("div",{id:m,ref:e.refPreviewPane,className:se.a.preview_pane+(e.display?" "+se.a.display_preview:"")+(v===oe.HORIZONTAL?" "+se.a.preview_horizontal:"")+(e.className?" "+e.className:""),onTransitionEnd:e.handleTransitionEnd,children:[Object(S.jsx)("div",{className:se.a.preview_pane_splitter+(v===oe.HORIZONTAL?" "+se.a.preview_horizontal:""),onMouseDown:y,onTouchStart:y,children:Object(S.jsx)("div",{})}),Object(S.jsxs)("div",{className:se.a.preview_top_bar,children:[Object(S.jsxs)("div",{className:se.a.preview_top_top_bar,children:[Object(S.jsx)(N.a,{text:"Reload preview",placement:"right-center",children:Object(S.jsx)("button",{className:se.a.buttons_preview_pane,disabled:e.disabled||x||e.displayError||!e.externalURL,onClick:e.handleRefresh,children:Object(S.jsx)(ie,{size:15})})}),Object(S.jsx)("div",{className:se.a.preview_address_field,children:e.urlDisplayed}),Object(S.jsx)(N.a,{text:"View in a new tab",placement:"left-center",children:Object(S.jsx)("button",{className:se.a.buttons_preview_pane,disabled:!e.enableOverrideExternal&&(e.disabled||x||e.displayError||!e.externalURL),children:Object(S.jsx)("a",{href:e.externalURL,target:"_blank",rel:"noreferrer",children:Object(S.jsx)(ee,{size:15})})})})]}),Object(S.jsx)("div",{className:se.a.preview_top_bottom_bar+" d-none",children:r+" x "+d})]}),Object(S.jsxs)("div",{className:se.a.preview_content+(e.displayMarkdown?" "+se.a.enable_scroll:""),children:[Object(S.jsx)("div",{className:se.a.display_iframe_overlay+(f?"":" d-none")}),Object(S.jsxs)("div",{className:se.a.preview_size_tab+(f?"":" d-none"),children:["Size: ",r+" x "+d]}),!!x&&Object(S.jsx)(I.a,{text:e.loadingText,children:!!e.loadingChild&&e.loadingChild}),!!e.displayError&&!x&&Object(S.jsx)("div",{className:se.a.preview_error,children:e.displayErrorBody?e.displayErrorBody:Object(S.jsxs)("div",{children:[Object(S.jsx)("h5",{children:"An error occured"}),Object(S.jsx)("div",{children:"Could not find a index.html file in the root of the space, nor any other html files."}),Object(S.jsx)("div",{children:"To view a preview here you need to start editing an html file."})]})}),!e.displayError&&!e.displayMarkdown&&Object(S.jsx)("iframe",{title:"Preview",id:"w3s_code_editor_preview_iframe",name:"w3s_code_editor_preview_iframe",className:x?se.a.is_loading:"",ref:e.refIframe,style:{width:"100%",height:"100%"},frameBorder:"0",onLoad:e.handleOnIframeLoaded}),!e.displayError&&e.displayMarkdown&&!!e.markdownCode&&!x&&Object(S.jsx)(le.a,{code:e.markdownCode,className:se.a.markdown})]})]})},ue=(n(766),n(329)),_e=n(125);var be=function(e){var t=Object(s.useMemo)((function(){return Object(S.jsx)(j.a,{variant:"tertiary",text:"Continue without saving",disabled:e.loading,onClick:e.onNoSaveClicked})}),[e.loading,e.onNoSaveClicked]);return Object(S.jsxs)(_e.a,{show:e.show,size:"lg",className:"save-content-modal",title:"Save changes?",okText:"Save and continue",loading:e.loading,extraButtons:t,handleClose:e.onCancelClicked,handleOk:e.onSaveClicked,children:[Object(S.jsx)("p",{children:"Do you want to save the current file before continuing?"}),!!e.errorMessage&&Object(S.jsx)(ue.a,{variant:"danger",children:e.errorMessage})]})},fe=n(133),pe=n(383),he=n(767),je=n.n(he);var ve,Oe=function(e){var t=e.size,n=e.className;return Object(S.jsx)("svg",{className:n,width:t,height:t,viewBox:"0 0 8 15",xmlns:"http://www.w3.org/2000/svg",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.35355 1.14645C7.54882 1.34171 7.54882 1.65829 7.35355 1.85355L1.70711 7.5L7.35355 13.1464C7.54882 13.3417 7.54882 13.6583 7.35355 13.8536C7.15829 14.0488 6.84171 14.0488 6.64645 13.8536L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645L6.64645 1.14645C6.84171 0.951184 7.15829 0.951184 7.35355 1.14645Z",strokeLinecap:"round",strokeLinejoin:"round"})})};!function(e){e.TOP="top",e.BOTTOM="bottom"}(ve||(ve={}));var ge=function(e){var t=Object(s.useState)(),n=Object(c.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)([]),i=Object(c.a)(o,2),d=i[0],u=i[1],_=Object(s.createRef)(),b=Object(s.useState)(!1),f=Object(c.a)(b,2),p=f[0],h=f[1],v=l.a.useRef({width:0,height:0,x:0,y:0}),O=l.a.useMemo((function(){return"Panel-"+Object(R.e)()}),[]);function g(t,n){t.stopPropagation(),t.preventDefault();var a=d.find((function(e){return e.type===n}));j.n.logDebug("LeftPanel -> clickedOnItem -> panel",a),!e.openPanel&&null!==a&&void 0!==a&&a.panel&&e.toggleOpenPanel(),e.onClickPanelItem(t,n)}function m(e){e&&e.preventDefault(),e&&e.stopPropagation();var t=document.getElementById(O);if(t&&v.current&&e){var n=0;e.clientX&&e.clientX>0?n=e.clientX:e.targetTouches&&e.targetTouches.length>0&&(n=e.targetTouches[0].clientX);var a=v.current.width-(n+v.current.x);a&&t.style&&(t.style.width=Math.abs(a)+"px")}}function w(e){var t;e.preventDefault(),e.stopPropagation(),v.current.width=(null===(t=_.current)||void 0===t?void 0:t.clientWidth)||0,v.current.x=e.clientX||e.targetTouches[0].clientX,document.addEventListener("mousemove",m),document.addEventListener("mouseup",E),document.addEventListener("touchmove",m),document.addEventListener("touchend",E),h(!0)}function E(e){e.preventDefault(),e.stopPropagation(),document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",m),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",E),h(!1)}return Object(s.useEffect)((function(){var t=[];e.topPanels&&e.topPanels.forEach((function(e){var n=Object(C.a)({},e);n.grouping=ve.TOP,t.push(n)})),e.bottomPanels&&e.bottomPanels.forEach((function(e){var n=Object(C.a)({},e);n.grouping=ve.BOTTOM,t.push(n)})),j.n.logDebug("LeftPanel -> useEffect panelItems -> returnValue",t),u(t)}),[e.bottomPanels,e.topPanels]),Object(s.useEffect)((function(){if(""===e.activePanelItem)r(void 0);else{var t=d.find((function(t){return e.activePanelItem===t.type}));r(t?t.panel:void 0),j.n.logDebug("LeftPanel -> useEffect hook props.activePanelItem -> [props.activePanelItem, myPanel]",e.activePanelItem,t)}}),[d,e.activePanelItem]),Object(S.jsxs)("div",{id:O,ref:_,className:je.a.panel+(e.displayPreview!==oe.NONE?" "+je.a.display_preview:"")+(e.openPanel?" "+je.a.open_panel:""),onTransitionEnd:e.panelTransitionEnd,children:[Object(S.jsxs)("div",{className:je.a.panel_icons,children:[Object(S.jsx)("div",{className:je.a.panel_top_view,children:d.filter((function(e){return e.grouping===ve.TOP})).map((function(t,n){return Object(S.jsx)(K,{className:t.className,handleClick:g,type:t.type,active:t.type===e.activePanelItem,disabled:t.disabled||e.disabled,locked:t.locked,tooltip:t.tooltip,children:t.child},t.type+"_top_"+n)}))}),Object(S.jsx)("div",{className:je.a.panel_bottom_view,children:d.filter((function(e){return e.grouping===ve.BOTTOM})).map((function(t,n){return Object(S.jsx)(K,{className:t.className,handleClick:g,type:t.type,disabled:t.disabled||e.disabled,locked:t.locked,tooltip:t.tooltip,children:t.child},t.type+"_bottom_"+n)}))})]}),Object(S.jsxs)("div",{className:je.a.panel_content+(e.contentClassName?" "+e.contentClassName:""),children:[Object(S.jsx)("div",{className:je.a.panel_splitter+(e.openPanel?"":"d-none"),onMouseDown:w,onTouchStart:w,children:Object(S.jsx)("div",{className:p?je.a.opacity_100:""})}),!!a&&a,Object(S.jsx)("div",{className:je.a.close_panel_column+(e.openPanel?"":" d-none"),onClick:e.toggleOpenPanel,children:Object(S.jsx)(Oe,{size:12})})]})]})},me=n(768),we=n.n(me);var Ee=function(e){var t=e.size,n=void 0===t?25:t,a=e.fill,r=void 0===a?"#282A35":a,o=e.className;return Object(S.jsxs)("svg",{width:n-1,height:n,viewBox:"0 0 24 25",fill:"none",className:o,xmlns:"http://www.w3.org/2000/svg",children:[Object(S.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(S.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:r})]})};var xe=function(e){var t=e.size,n=void 0===t?25:t,a=e.fill,r=void 0===a?"#282A35":a,o=e.className;return Object(S.jsxs)("svg",{width:n-1,height:n,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,children:[Object(S.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(S.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:r}),Object(S.jsx)("rect",{x:"13.4404",y:"7.26001",width:"2",height:"17.24",fill:r})]})};var Ce,ye=function(e){var t=e.size,n=void 0===t?25:t,a=e.fill,r=void 0===a?"#282A35":a,o=e.className;return Object(S.jsxs)("svg",{width:n-1,height:n,viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:o,children:[Object(S.jsx)("rect",{x:"1",y:"1.5",width:"22",height:"22",rx:"4",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(S.jsx)("rect",{y:"7.26001",width:"24",height:"2",fill:r}),Object(S.jsx)("rect",{y:"14.5",width:"24",height:"2",fill:r})]})};!function(e){e.Left="left",e.Center="center",e.Right="right"}(Ce||(Ce={}));var Pe=function(e){var t=Object(s.useState)(e.activeButton||Ce.Left),n=Object(c.a)(t,2),a=n[0],r=n[1];function o(t){a!==t&&(r(t),e.onClickButton&&e.onClickButton(t))}return Object(s.useEffect)((function(){r(e.activeButton||Ce.Left)}),[e.activeButton]),Object(S.jsxs)("div",{"aria-label":e.ariaLabel,role:"group",className:we.a.button_group+(e.className?" "+e.className:""),children:[Object(S.jsx)(N.a,{className:!e.tooltipLeft||e.disabled?we.a.disabled:"",text:e.tooltipLeft,placement:"left-center",disabled:!e.tooltipLeft||e.disabled,children:Object(S.jsx)("button",{className:we.a.btn+(e.activeButton===Ce.Left?" "+we.a._group_btn_active:""),onClick:function(){return o(Ce.Left)},disabled:e.disabled,"aria-label":"No preview"+e.activeButton===Ce.Left?" is active":"",children:e.iconLeft?e.iconLeft:Object(S.jsx)(Ee,{})})}),Object(S.jsx)(N.a,{className:!e.tooltipCenter||e.disabled?we.a.disabled:"",text:e.tooltipCenter,placement:"bottom-center",disabled:!e.tooltipCenter||e.disabled,children:Object(S.jsx)("button",{className:we.a.btn+(e.activeButton===Ce.Center?" "+we.a._group_btn_active:""),onClick:function(e){return o(Ce.Center)},disabled:e.disabled,"aria-label":"Vertical preview view"+e.activeButton===Ce.Center?" is active":"",children:e.iconCenter?e.iconCenter:Object(S.jsx)(xe,{})})}),Object(S.jsx)(N.a,{className:!e.tooltipRight||e.disabled?we.a.disabled:"",text:e.tooltipRight,placement:"right-center",disabled:!e.tooltipRight||e.disabled,children:Object(S.jsx)("button",{className:we.a.btn+(e.activeButton===Ce.Right?" "+we.a._group_btn_active:""),onClick:function(e){return o(Ce.Right)},disabled:e.disabled,"aria-label":"Horizontal preview view"+e.activeButton===Ce.Right?" is active":"",children:e.iconRight?e.iconRight:Object(S.jsx)(ye,{})})})]})},Ne=n(769),ke=n.n(Ne),Se=function(e){return"object"===typeof(t=e)&&"function"!==typeof t&&void 0!==t;var t};var Le=function(e){return Object(S.jsx)("div",{className:ke.a.header+(e.className?" "+e.className:""),children:Se(e.children)?Object(S.jsxs)("div",{className:ke.a.header_top_row,children:[Object(S.jsx)("div",{className:ke.a.header_buttons_left,children:!!e.children&&!!e.children.left&&e.children.left}),Object(S.jsx)("div",{className:ke.a.header_buttons_middle,children:!!e.children&&!!e.children.center&&e.children.center}),Object(S.jsx)("div",{className:ke.a.header_buttons_right,children:!!e.children&&!!e.children.right&&e.children.right})]}):e.children})},Te=n(770),De=n.n(Te),Me=n(354);var Ae,Re=function(e){var t=Object(s.useMemo)((function(){return navigator.userAgentData?/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgentData.platform):/(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgent)}),[]);return Object(S.jsx)(_e.a,{show:e.show,title:"Keyboard shortcuts",size:"lg",disabled:e.disabled,displayOk:!1,displayCancel:!1,scrollable:!0,handleClose:e.close,children:Object(S.jsxs)("div",{className:De.a.content,children:[Object(S.jsxs)("div",{className:De.a.left_content,children:[Object(S.jsx)("div",{className:De.a.header,children:"Text editing"}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Show command palette"}),Object(S.jsx)("div",{className:De.a.key,children:"F1"})]}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Find text"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2318":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"F"})]})]}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Find and replace text"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2318":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2325":"SHIFT"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"F"})]})]}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Jump to line"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2303":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"G"})]})]}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Undo"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2318":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"Z"})]})]}),Object(S.jsxs)("div",{className:De.a.item,children:[Object(S.jsx)("div",{children:"Redo"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+" "+De.a.key_xl,children:"SHIFT"}),"+",Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2318":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"Z"})]})]}),Object(S.jsxs)("div",{className:De.a.item+" "+De.a.item_end,children:[Object(S.jsx)("div",{children:"Save"}),Object(S.jsxs)("div",{className:De.a.row,children:[Object(S.jsx)("div",{className:De.a.key+(t?"":" "+De.a.key_xl),children:t?"\u2318":"CTRL"}),"+",Object(S.jsx)("div",{className:De.a.key,children:"S"})]})]})]}),Object(S.jsxs)("div",{className:De.a.right_content,children:[Object(S.jsx)("div",{className:De.a.header,children:"Global"}),Object(S.jsxs)("div",{className:De.a.item+" "+De.a.item_end,children:[Object(S.jsx)("div",{children:"Close modal"}),Object(S.jsx)("div",{className:De.a.key+" "+De.a.key_l,children:"ESC"})]}),Object(S.jsxs)(Me.b,{className:De.a.info_bar_text,children:[Object(S.jsx)("strong",{children:"Tip:"})," To use these shortcuts; place your cursor first by clicking somewhere inside the text editor."]})]})]})})},Ie=n(134),Fe=l.a.lazy((function(){return n.e(16).then(n.bind(null,843))})),Ue=l.a.lazy((function(){return n.e(23).then(n.bind(null,846))})),Be=l.a.lazy((function(){return n.e(22).then(n.bind(null,847))})),He=l.a.lazy((function(){return n.e(24).then(n.bind(null,829))})),Ye={xml:"xml",txt:"plaintext",svg:"plaintext",js:"javascript",json:"json",html:"html",htm:"html",css:"css",md:"markdown"};!function(e){e[e.RESET_SCROLL=1]="RESET_SCROLL",e[e.DEFAULT=0]="DEFAULT"}(Ae||(Ae={}));t.default=function(e){var t,n,a,l=Object(u.d)((function(e){return e.main})),_=Object(s.useState)(e.main_state||l),p=Object(c.a)(_,2),v=p[0],O=p[1];Object(s.useEffect)((function(){(l||e.main_state)&&O(e.main_state||l)}),[l,e.main_state]);var g=Object(u.d)((function(e){return e.main.spaces})),m=Object(s.useState)(e.spaces||g),C=Object(c.a)(m,2),y=C[0],P=C[1];Object(s.useEffect)((function(){(g||e.spaces)&&P(e.spaces||g)}),[g,e.spaces]);var N=Object(u.c)(),k=Object(d.g)(),U=Object(s.useRef)({previewWithRequestsCountOn:v.editor_content.useRequestsOnPreview||!1,livePreview:v.editor_content.useRequestsOnPreview||!1}),B=Object(s.createRef)(),Y=Object(s.createRef)(),V=Object(s.useState)(!1),K=Object(c.a)(V,2),z=K[0],W=K[1],q=Object(s.useMemo)((function(){var t=!!e.case;return W(t),j.n.logDebug("CodeEditorPage -> isCaseMode memo -> props.case",e.case),t}),[e.case]),Z=Object(s.useState)(!1),te=Object(c.a)(Z,2),ne=te[0],ie=te[1];Object(s.useEffect)((function(){ie(!!e.case&&e.case.page>e.case.total||!1)}),[e.case,null===(t=e.case)||void 0===t?void 0:t.page,null===(n=e.case)||void 0===n?void 0:n.total]);var ce=Object(s.useState)(!1),se=Object(c.a)(ce,2),le=se[0],ue=se[1],_e=Object(s.useState)("Loading..."),he=Object(c.a)(_e,2),je=he[0],ve=he[1],Oe=Object(s.useState)(!1),me=Object(c.a)(Oe,2),we=me[0],Ee=me[1],xe=Object(s.useState)(!1),ye=Object(c.a)(xe,2),Ne=ye[0],ke=ye[1],Se=Object(s.useState)(!0),Te=Object(c.a)(Se,2),De=Te[0],Me=Te[1],Ve=Object(s.useState)(!1),Ke=Object(c.a)(Ve,2),ze=Ke[0],We=Ke[1],qe=Object(s.useState)(!1),Ze=Object(c.a)(qe,2),Ge=Ze[0],Xe=Ze[1],Qe=Object(s.useState)(!1),Je=Object(c.a)(Qe,2),$e=Je[0],et=Je[1],tt=Object(s.useState)(!1),nt=Object(c.a)(tt,2),at=nt[0],rt=nt[1],ot=Object(s.useState)(!1),it=Object(c.a)(ot,2),ct=it[0],st=it[1],lt=Object(s.useState)(oe.NONE),dt=Object(c.a)(lt,2),ut=dt[0],_t=dt[1],bt=Object(s.useState)(Ce.Left),ft=Object(c.a)(bt,2),pt=ft[0],ht=ft[1],jt=Object(s.useState)(localStorage.getItem("code_editor.theme")||x.a.LIGHT),vt=Object(c.a)(jt,2),Ot=vt[0],gt=vt[1],mt=Object(s.useState)([]),wt=Object(c.a)(mt,2),Et=wt[0],xt=wt[1],Ct=Object(s.useState)(-1),yt=Object(c.a)(Ct,2),Pt=yt[0],Nt=yt[1],kt=Object(s.useState)(!1),St=Object(c.a)(kt,2),Lt=St[0],Tt=St[1],Dt=Object(s.useState)(!1),Mt=Object(c.a)(Dt,2),At=Mt[0],Rt=Mt[1],It=Object(s.useState)(!1),Ft=Object(c.a)(It,2),Ut=Ft[0],Bt=Ft[1],Ht=Object(s.useState)(!0),Yt=Object(c.a)(Ht,2),Vt=Yt[0],Kt=Yt[1];Object(s.useEffect)((function(){Kt(window.innerWidth>R.a.medium)}),[]);var zt=Object(s.useMemo)((function(){return[{element:Object(S.jsxs)("div",{children:[Object(S.jsx)("strong",{children:"Tip:"})," There might be a a couple of seconds delay when saving before you see the changes in the preview. Press ",Object(S.jsx)("strong",{children:"Run"})," again to reload the preview."]}),type:$.DEFAULT},{element:Object(S.jsxs)("div",{children:[Object(S.jsx)("strong",{children:"Tip:"})," Press the ",Object(S.jsx)("strong",{children:"Reload"})," icon, to refresh the preview. It might take a few seconds before you can see your changes go live."]}),type:$.DEFAULT},{element:Object(S.jsxs)("div",{children:[Object(S.jsx)("strong",{children:"Tip:"})," Press ",Object(S.jsx)("span",{className:h.a.code_editor_hint_key,children:"F1"})," to show Command palette."]}),type:$.DEFAULT}]}),[]),Wt=Object(s.useState)(!1),qt=Object(c.a)(Wt,2),Zt=qt[0],Gt=qt[1],Xt=Object(s.useState)(!1),Qt=Object(c.a)(Xt,2),Jt=Qt[0],$t=Qt[1],en=Object(s.useState)(!1),tn=Object(c.a)(en,2),nn=tn[0],an=tn[1],rn=Object(s.useState)(""),on=Object(c.a)(rn,2),cn=on[0],sn=on[1],ln=Object(s.useState)("about:blank"),dn=Object(c.a)(ln,2),un=dn[0],_n=dn[1],bn=Object(s.useState)("about:blank"),fn=Object(c.a)(bn,2),pn=fn[0],hn=fn[1],jn=Object(s.useRef)("about:blank"),vn=Object(s.useRef)(null),On=Object(s.useRef)(null),gn=Object(s.useRef)(null),mn=Object(s.useRef)(),wn=Object(s.useState)(!1),En=Object(c.a)(wn,2),xn=En[0],Cn=En[1],yn=Object(s.useState)(!1),Pn=Object(c.a)(yn,2),Nn=Pn[0],kn=Pn[1],Sn=Object(s.useRef)(null),Ln=Object(s.useRef)(null),Tn=Object(s.useRef)(null),Dn=Object(s.useRef)(!1),Mn=Object(s.useState)(""),An=Object(c.a)(Mn,2),Rn=An[0],In=(An[1],Object(s.useRef)(Ae.DEFAULT)),Fn=Object(s.useRef)(""),Un=Object(s.useRef)(!0),Bn=Object(d.i)().spaceId,Hn=Object(s.useState)(!1),Yn=Object(c.a)(Hn,2),Vn=Yn[0],Kn=Yn[1],zn=Object(s.useState)(!1),Wn=Object(c.a)(zn,2),qn=Wn[0],Zn=Wn[1],Gn=Object(s.useState)(),Xn=Object(c.a)(Gn,2),Qn=Xn[0],Jn=Xn[1],$n=Object(s.useState)(),ea=Object(c.a)($n,2),ta=ea[0],na=ea[1];Object(s.useEffect)((function(){ta&&(Ln.current&&(clearTimeout(Ln.current),Ln.current=null),Ln.current=setTimeout((function(){na(ta-1),Ln.current=null}),1e3))}),[ta]);var aa=Object(s.useRef)(!1),ra=Object(s.useState)(),oa=Object(c.a)(ra,2),ia=oa[0],ca=oa[1],sa=Object(s.useRef)(!1),la=Object(s.useState)(!1),da=Object(c.a)(la,2),ua=da[0],_a=da[1],ba=Object(s.useState)(!1),fa=Object(c.a)(ba,2),pa=fa[0],ha=fa[1],ja=Object(s.useState)(),va=Object(c.a)(ja,2),Oa=va[0],ga=va[1];Object(s.useEffect)((function(){if(!Oa||Oa.path!==v.editor_content.file_path){var e=y.filter((function(e){return e.id===Bn}));if(0===e.length)return;var t=e[0].files.find((function(e){return e.path===v.editor_content.file_path}));j.n.logDebug("CodeEditorPage -> file useEffect hook -> myFile:",t),ga(t),vn.current=null,On.current=null,sa.current="text/html"===(null===t||void 0===t?void 0:t.mime_type),_a("md"===(null===t||void 0===t?void 0:t.extension)),ca(void 0),ha(!1),localStorage.removeItem("code_editor.iscrollpos"),Zn(!0)}}),[Oa,v.editor_content.file_path,Bn,y]);var ma=Object(s.useState)(null),wa=Object(c.a)(ma,2),Ea=wa[0],xa=wa[1];Object(s.useEffect)((function(){if(qn)if(Zn(!1),sa.current)j.n.logDebug("CodeEditorPage -> previewFile useEffect hook -> isHTMLfile",null),xa(null),Kn(!0);else{if(!y||0===y.length)return j.n.logDebug("CodeEditorPage -> previewFile useEffect hook -> !spaces || spaces.length === 0",null),xa(null),void Kn(!0);var e=y.filter((function(e){return e.id===Bn}));if(0===e.length||0===e[0].files.length)return j.n.logDebug("CodeEditorPage -> previewFile useEffect hook -> space.length === 0 || space[0].files.length === 0",null),xa(null),void Kn(!0);var t=e[0].files.filter((function(e){return"text/html"===e.mime_type}));if(0===t.length)return j.n.logDebug("CodeEditorPage -> previewFile useEffect hook -> htmlFiles.length === 0",null),xa(null),void Kn(!0);var n=t.find((function(e){return"index.html"===e.rel_path.toLowerCase()}));n||(n=t.find((function(e){return 1===e.rel_path.split("/").length}))),j.n.logDebug("CodeEditorPage -> previewFile useEffect hook -> previewFile:",n),xa(n||null),Kn(!0)}}),[qn,Bn,y]);var Ca=Object(s.useState)(),ya=Object(c.a)(Ca,2),Pa=ya[0],Na=ya[1];Object(s.useEffect)((function(){var e=v.usage,t=v.quota,n=t.web_traffic.number_of_requests-e.web_traffic.number_of_requests,a=t.web_traffic.data_served-e.web_traffic.data_served,r=t.storage.amount-e.storage.amount,o=n<0||a<0||r<0;if(j.n.logDebug("CodeEditorPage -> requestError useEffect hook -> [isQuotaUsedUp, remainingRequests, remainingData, remainingStorage]",o,n,a,r),o&&(!ua||ua&&!pa)){var i=v.subscription_plan,c=Object(fe.a)(i,"MMM DD, YYYY"),s=j.q.getUpgradeLink(),l=s,d=[];n<0&&d.push("".concat(t.web_traffic.number_of_requests," requests per month")),a<0&&d.push("".concat(t.web_traffic.data_served/1024," MB data served per month")),r<0&&d.push("".concat(t.storage.amount/1024," MB storage used"));var u="";u=1===d.length?d[0]:2===d.length?"".concat(d[0]," and ").concat(d[1]):"".concat(d[0],", ").concat(d[1]," and ").concat(d[2]),Na(Object(S.jsxs)("div",{children:[Object(S.jsx)("h3",{children:"Check your monthly quota"}),Object(S.jsxs)("span",{children:["With a ",Object(S.jsx)("strong",{children:i.cname})," plan you get ",u,". Since you have reached ",d.length>1?"these limits":"this limit",", we have temporarily closed ",e.storage.number_of_spaces>1?"all your spaces":"your space"," for public access. Your ",e.storage.number_of_spaces>1?"spaces":"space"," will be opened again when your next subscription period starts, ",Object(S.jsx)("strong",{children:c}),".",Object(S.jsx)("br",{}),Object(S.jsx)("br",{}),i.can_be_upgraded?Object(S.jsxs)(S.Fragment,{children:["To get more quota, ",Object(S.jsx)("a",{href:s,children:"upgrade your plan"}),"."]}):Object(S.jsx)("a",{href:l,children:"Learn more"})]})]})),ua&&et(!1)}else Na(void 0)}),[pa,ua,v.quota,v.quota.web_traffic.number_of_requests,v.subscription_plan,v.usage,v.usage.web_traffic.number_of_requests]);var ka=Object(s.useState)(!1),Sa=Object(c.a)(ka,2),La=Sa[0],Ta=Sa[1];Object(s.useEffect)((function(){Ta(!!Pa||!Ea&&!!Oa&&!sa.current)}),[Oa,Ea,Pa]);var Da=Object(s.useState)(!1),Ma=Object(c.a)(Da,2),Aa=Ma[0],Ra=Ma[1],Ia=Object(s.useState)(re.DEFAULT),Fa=Object(c.a)(Ia,2),Ua=Fa[0],Ba=Fa[1],Ha=Object(s.useState)(!1),Ya=Object(c.a)(Ha,2),Va=Ya[0],Ka=Ya[1];Object(s.useEffect)((function(){Ba(Va?re.BLOB:re.DEFAULT),Ra(!0)}),[Va]);var za=Object(s.useCallback)((function(e){localStorage.setItem("code_editor.preview",e),_t(e)}),[]),Wa=Object(s.useCallback)((function(e,t){var n;e&&e.preventDefault(),e&&e.stopPropagation(),!Lt&&ut===oe.VERTICAL&&((null===(n=B.current)||void 0===n?void 0:n.clientWidth)||0)+500>=window.innerWidth&&za(oe.NONE),Tt(null==t?!Lt:t)}),[ut,Lt,B,za]),qa=Object(s.useCallback)((function(){var e=Ot===x.a.LIGHT?x.a.DARK:x.a.LIGHT;j.n.logDebug("CodeEditorPage -> toggleTheme -> [new_theme, theme]",e,Ot),gt(e),localStorage.setItem("code_editor.theme",e)}),[Ot]),Za=Object(s.useCallback)((function(e,t){switch(t){case H.Shortcut:Bt(!0);break;case H.DarkLight:qa();break;default:t!==cn?(sn(t),Lt||ut!==oe.NONE&&window.innerWidth<=R.a.medium&&za(oe.NONE)):Lt&&Wa(e,!1)}}),[cn,ut,Lt,za,Wa,qa]),Ga=Object(s.useState)([]),Xa=Object(c.a)(Ga,2),Qa=Xa[0],Ja=Xa[1];Object(s.useEffect)((function(){var e=y.find((function(e){return e.id===Bn}))||{files:[],folders:[]};Ja([].concat(Object(i.a)(e.files),Object(i.a)(e.folders)))}),[Bn,y]);var $a=Object(s.useCallback)((function(e){var t=v.editor_content;t.file_path=e,N(Object(M.k)(t))}),[N,v.editor_content]),er=Object(s.useCallback)((function(e){var t=Qa.findIndex((function(t){return t.path===e}));if(t>-1){var n=Qa[t];n.is_folder||e===Oa.path||(Et[Pt].canBeSaved?(mn.current=n,$t(!0)):(j.n.logDebug("CodeEditorPage -> clickItemInTree -> treePanelItem",n),mn.current=void 0,$a(n.path)))}}),[Pt,Oa,$a,Et,Qa]),tr=Object(s.useCallback)((function(e){var t=y.find((function(e){return e.id===Bn})).files.find((function(t){return t.path===e.path}));Jn(t)}),[Bn,y]),nr=Object(s.useMemo)((function(){var t={child:Object(S.jsx)(Q,{}),type:H.Folders,locked:!1,tooltip:"Files",disabled:ne||le,panel:Object(S.jsx)(s.Suspense,{fallback:Object(S.jsx)(Ie.a,{}),children:Object(S.jsx)(Fe,{spaceId:Bn,spaceItems:Qa,canSelectFolder:!1,filterNoneTextFiles:!1,disabled:De||ze||$e||ne,selectedPath:Pt>-1?Et[Pt].path:void 0,customDomain:v.editor_content.domainNameForSpace,header:"Files",onClickRow:er,handleShowImagePreviewModal:tr})})};j.n.logDebug("CodeEditorPage -> useMemo panelItemsTop");var n=[t];if(q){var a,r={child:Object(S.jsx)(X.a,{}),type:H.Case,locked:!1,tooltip:"Case",disabled:ne||le,panel:Object(S.jsx)(s.Suspense,{fallback:Object(S.jsx)(Ie.a,{}),children:Object(S.jsx)(Be,{html:null===(a=e.case)||void 0===a?void 0:a.element,loading:!!e.caseLoading})})};n.unshift(r)}else{var o={child:Object(S.jsx)(G,{}),type:H.HowTo,locked:!1,tooltip:"How to library",disabled:ne||le,panel:Object(S.jsx)(s.Suspense,{fallback:Object(S.jsx)(Ie.a,{}),children:Object(S.jsx)(Ue,{disabled:De||ze})})};n.push(o)}return n}),[Pt,er,le,tr,q,ne,$e,De,v.editor_content.domainNameForSpace,ze,null===(a=e.case)||void 0===a?void 0:a.element,e.caseLoading,Bn,Et,Qa]),ar=Object(s.useMemo)((function(){var e={child:Object(S.jsx)(w,{}),type:H.DarkLight,locked:!1,panel:void 0,tooltip:Ot===x.a.LIGHT?"Switch to dark mode":"Switch to light mode",className:void 0,disabled:ua&&!pa},t={child:Object(S.jsx)(J,{}),type:H.Shortcut,locked:!1,panel:void 0,tooltip:"Shortcuts",className:"d-xs-none d-sm-inline-flex",disabled:De||ze};return j.n.logDebug("CodeEditorPage -> useMemo panelItemsBottom"),[t,e]}),[pa,ua,De,ze,Ot]),rr=Object(s.useCallback)((function(e,t){"quota"===e.context?N(Object(F.a)(e,t)):"BRIFC3"===e.code?N(Object(A.a)({id:Object(R.e)(),dismissed:!1,type:"error",header:"Your file could not be saved",body:Object(S.jsxs)(S.Fragment,{children:["Sorry, the file ",Object(S.jsx)("strong",{children:E.o(t.base_name)})," could not be saved. This is a permanent error with code ",e.code,". Please contact support."]})})):N(Object(A.a)({id:Object(R.e)(),dismissed:!1,type:"error",header:"File processing error",body:"".concat(e.description)}))}),[N]),or=Object(s.useCallback)((function(e){return e.replace(/ *\<!--[^)]*\--> */g,"")}),[]),ir=Object(s.useCallback)((function(e){return/^\s+$/.test(e)}),[]),cr=Object(s.useCallback)((function(e){var t=or(e);(ir(t)||0===t.length)&&(t="## The file is empty \n\n >Click on **Edit markdown** at the bottom of the screen to add content."),ca(t)}),[or,ir]),sr=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},lr=sr("__c_u_i_1"),dr=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},ur=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},_r=Object(s.useCallback)((function(){var e;switch(j.q.getEnv()){case"develop":e="www.w3sdevelop-preview.com";break;case"staging":e="www.w3stages-preview.com";break;default:e="www.w3spaces-preview.com"}return"https://"+e}),[]),br=Object(s.useCallback)((function(){var e;switch(j.q.getEnv()){case"develop":e="api.w3sdevelop-preview.com";break;case"staging":e="api.w3stages-preview.com";break;default:e="api.w3spaces-preview.com"}return"https://"+e}),[]),fr=Object(s.useCallback)((function(e,t){var n=_r(),a=Bn+"/"+e||v.editor_content.file_path;if(t){var r=encodeURIComponent(a);return n+"/p.html?path="+window.btoa(r)}return n+"/init.html?path="+a}),[_r,v.editor_content.file_path,Bn]),pr=Object(s.useCallback)((function(e){if("spaces.preview.use.fallback"===e.data){ur(window,"message",pr),U.current.livePreview=!0,U.current.previewWithRequestsCountOn=!0;var t=v.editor_content;t.useRequestsOnPreview=!0,N(Object(M.k)(t)),Gt(!0)}}),[N,v.editor_content]),hr=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.current,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(j.n.logDebug("CodeEditorPage -> setIframeSrc -> [myIframe, myContent]: ",e,t),e)if(!ua||ua&&!pa){if(Ua===re.BLOB){var n=function(e){var t=v.editor_content.url,n=e,a=null===t||void 0===t?void 0:t.split("/"),r=null===n||void 0===n?void 0:n.split("/"),o=null===r||void 0===r?void 0:r.slice(0,r.length-1);return null===a||void 0===a||a.push.apply(a,Object(i.a)(o)),((null===a||void 0===a?void 0:a.join("/"))||"")+"/"},a=function(e,t){var a='<base href="'.concat(n(t),'">'),r='<script type="text/javascript">\n    function code_editor_on_scroll_kjshd7ub(e) {\n        localStorage.setItem("code_editor.iscrollpos", window.scrollY);\n    }\n\n    function code_editor_on_load_ku73255bckj09n(e) {\n        window.scrollTo({left: 0, top: (localStorage.getItem("code_editor.iscrollpos") || 0), behavior: "instant"});\n    }\n\n    function code_editor_xdfesdfc34sd() {\n        document.onscroll=code_editor_on_scroll_kjshd7ub; \n        window.onload=code_editor_on_load_ku73255bckj09n;\n    };\n\n    code_editor_xdfesdfc34sd();\n<\/script>',o=e.indexOf("</body>");j.n.logDebug("manipulateString -> indexOfBody: ",o);var i=(e=-1===o?r+e:e.substring(0,o-1)+r+e.substring(o)).indexOf("<html>");return j.n.logDebug("manipulateString -> indexOfHtml: ",i),e=-1===i?a+e:e.substring(0,i+6)+a+e.substring(i+7)},r=b.a.findDOMNode(e),o=a(t||vn.current||Et[Pt].content,(null===Ea||void 0===Ea?void 0:Ea.rel_path)||(null===Oa||void 0===Oa?void 0:Oa.rel_path)||"<div></div>"),c=(new Date).getTime();o=(o=(o=(o=o.replace(/.css"/g,".css?"+c+'"')).replace(/.css'/g,".css?"+c+"'")).replace(/.js"/g,".js?"+c+'"')).replace(/.js'/g,".js?"+c+"'"),j.n.logDebug("CodeEditorPage -> setIframeSrc -> previewType = BLOB -> time: ",c);var s=new Blob([o],{type:"text/html"});r.src=URL.createObjectURL(s)}else{if(j.n.logDebug("CodeEditorPage -> setIframeSrc -> previewType = DEFAULT -> myIframe: ",e),!U.current.previewWithRequestsCountOn){var l=_r(),d=function t(n){var a;if(n.origin===l)if(a=Ea?Bn+"/"+Ea.rel_path:Bn+"/"+(null===Oa||void 0===Oa?void 0:Oa.rel_path)||"",j.n.logDebug("CodeEditorPage -> setIframeSrc -> postMessageToiFrame -> e.data",n.data),"private.content.window.loaded.nocookies"===n.data){var r=br(),o="".concat(r,"/spaces/").concat(window.btoa(encodeURIComponent(a))),i=new Headers;i.set("Content-Type","application/json"),i.set("Authorization",sr("accessToken")),i.set("uic",lr),fetch(o,{method:"POST",cache:"no-cache",credentials:"include",headers:i}).then((function(e){return e.json()})).then((function(t){t.scrollpos=In.current,e.contentWindow.postMessage(JSON.stringify(t),"*")})).catch((function(e){return j.n.logError("Error",e)})),ur(window,"message",t),ur(window,"message",pr),dr(window,"message",pr)}else if("private.content.window.loaded"===n.data){var c={location:"".concat(l,"/").concat(a),scrollpos:In.current};e.contentWindow.postMessage(JSON.stringify(c),"*"),ur(window,"message",t),ur(window,"message",pr),dr(window,"message",pr)}},u=jn.current?jn.current.split("?bypass-cache")[0]:"";Un.current||Fn.current!==u?(In.current=Ae.RESET_SCROLL,Un.current=!1):In.current=Ae.DEFAULT,dr(window,"message",d)}e.src=jn.current}ua&&cr(Et[Pt].content)}else cr(Et[Pt].content),et(!1);else ua&&(cr(Et[Pt].content),et(!1))}),[Pt,cr,pa,null===Oa||void 0===Oa?void 0:Oa.rel_path,br,_r,ua,v.editor_content.url,Ea,Y,Ua,pr,Bn,Et,lr]),jr=Object(s.useCallback)((function(e){var t,n,a,r;v.editor_content.domainNameForSpace?(n=e?E.i(e,!0,v.editor_content.domainNameForSpace):void 0,hn((null===(a=n)||void 0===a?void 0:a.split("?")[0])||"Error"),U.current.previewWithRequestsCountOn&&(_n(n),t=e?E.i(e,!0,void 0):void 0)):(n=e?E.i(e,!0,void 0):void 0,hn((null===(r=n)||void 0===r?void 0:r.split("?")[0])||"Error"),U.current.previewWithRequestsCountOn&&(_n(n),t=n));return U.current.previewWithRequestsCountOn||(t=e?fr(e.rel_path,!1):void 0,n=e?fr(e.rel_path,!0):void 0,_n(n)),j.n.logDebug("CodeEditorPage -> calculateIframeURL -> [returnValue, externalValue]:",t,n),t}),[fr,v.editor_content.domainNameForSpace]),vr=Object(s.useCallback)((function(){var e=void 0;(e=sa.current?jr(Oa):jr(ua&&pa?Oa:Ea))||(e="about:blank"),Fn.current=jn.current?jn.current.split("%3Fbypass-cache")[0]:"",jn.current=e,j.n.logDebug("CodeEditorPage -> getNewExternalUrl -> returnValue:",e)}),[jr,pa,Oa,ua,Ea]),Or=Object(s.useCallback)((function(e,t){j.n.logDebug("CodeEditorPage -> setDisplayValue -> newToggleValue: ",t),Lt&&t===oe.VERTICAL&&window.innerWidth<=R.a.medium&&Wa(e,!1),ut===oe.NONE&&t!==ut?(j.n.logDebug("CodeEditorPage -> setDisplayValue -> (displayPreview === PreviewOrientationType.NONE && newToggleValue !== displayPreview) -> Calling setIframeSrc!!"),hr()):ut===oe.NONE&&ua&&!pa&&cr(Et[Pt].content),za(t)}),[Pt,cr,ut,pa,ua,Lt,hr,za,Et,Wa]),gr=Object(s.useCallback)((function(e){q?window.innerWidth<=R.a.medium&&(Rt(!1),Ba(re.DEFAULT),Ka(!1),ut!==oe.NONE&&Or(e,oe.NONE),window.innerWidth<=R.a.xsmall&&Lt&&(Wa(void 0,!1),sn(""))):window.innerWidth>R.a.medium&&Rt(!0),Kt(window.innerWidth>R.a.medium)}),[ut,q,Lt,Or,Wa]),mr=Object(s.useCallback)((function(){return j.n.logDebug("CodeEditorPage -> getEditorContents -> innerInstance.current: ",gn.current.getValue()),we&&gn.current?gn.current.getValue():" "}),[we]),wr=Object(s.useCallback)((function(e,t,n){Pt>-1&&(j.n.logDebug("CodeEditorPage -> handleChangedFileContents -> [sameAsCached, newContent, reloadContent]: ",e,t,n),Et[Pt].canBeSaved=!e,Xe(!e),Tn.current&&(clearTimeout(Tn.current),Tn.current=null),t&&Va&&ut!==oe.NONE?null!==Oa&&void 0!==Oa&&Oa.is_text_based&&sa.current&&(On.current=t,Tn.current=setTimeout((function(){rt(!0)}),1e3)):n&&Va?rt(!0):ua&&!pa&&cr(Et[Pt].content))}),[Pt,cr,ut,pa,null===Oa||void 0===Oa?void 0:Oa.is_text_based,ua,Va,Et]),Er=Object(s.useCallback)(function(){var e=Object(o.a)(Object(r.a)().mark((function e(t,n){var a,o,i,c,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.n.logDebug("CodeEditorPage -> handleFileSave -> instantiated:",we),we){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if(!v.usage_status._out_of_quota){e.next=6;break}return N(Object(F.a)({code:"ACTION_FORBIDDEN_WHEN_QUOTA_EXCEEDED",description:"Your space is temporarily closed, and editing files is not allowed.",meta:{header_text:"Space temporarily closed"}})),e.abrupt("return",Promise.reject());case 6:if(a=n||mr(),o=Object(T.a)(Oa),j.n.logDebug("CodeEditorPage -> handleFileSave -> tabs["+Pt+"].content !== editor_contents:",Et[Pt].content!==a),Et[Pt].content===a){e.next=39;break}if(i=D(a),!((c=i/1024)>v.quota.storage.max_file_size)){e.next=16;break}return o.size=i,N(Object(F.a)({code:"SPACE_FILE_SIZE_QUOTA_EXCEEDED"},Oa)),e.abrupt("return",Promise.reject());case 16:if(!(v.usage.storage.amount+c>v.quota.storage.amount)){e.next=20;break}return o.size=i,N(Object(F.a)({code:"TOTAL_STORAGE_AMOUNT_QUOTA_EXCEEDED"},Oa)),e.abrupt("return",Promise.reject());case 20:return We(!0),ve("Saving..."),e.next=24,Object(j.l)({url:"/files",method:"POST",data:{action:"updateContents",file:{path:o.path,contents:a},_out_of_quota:v.usage_status._out_of_quota}});case 24:if(s=e.sent,j.n.logDebug("CodeEditorPage -> file_update_req_res: ",s),"undefined"!==typeof s.data._update_main_state&&N(Object(M.q)(s.data._update_main_state)),"undefined"!==typeof s.data._update_space&&null!==s.data._update_space&&N(Object(M.r)(s.data._update_space)),"0"===s.error.code){e.next=33;break}return We(!1),wr(!0),rr(s.error,Oa),e.abrupt("return",Promise.reject());case 33:return o.contents=a,o.size=i,Et[Pt].content=a,We(!1),Va&&!sa.current?(et(!0),wr(!0,void 0,!0)):wr(!0),e.abrupt("return",Promise.resolve());case 39:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[Pt,N,Oa,mr,wr,rr,we,Va,v.quota.storage.amount,v.quota.storage.max_file_size,v.usage.storage.amount,v.usage_status._out_of_quota,Et]),xr=Object(s.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];j.n.logDebug("CodeEditorPage -> refreshPreview -> noSave: ",t),et(!0),vr(),t||ut!==oe.NONE||Or(null,oe.VERTICAL);try{Et[Pt].canBeSaved&&!t?Er(e).then((function(){rt(!0)})):rt(!0)}catch(n){et(!1)}}),[Pt,ut,vr,Er,Or,Et]),Cr=Object(s.useCallback)((function(e){var t;j.n.logDebug("CodeEditorPage -> setNewActiveTab -> displayPreview:",ut),Nt(e),Xe((null===(t=Et[e])||void 0===t?void 0:t.canBeSaved)||!1),ut!==oe.NONE?xr(null,!1):(vr(),ua&&Et.length>e&&cr(Et[e].content))}),[cr,ut,vr,ua,xr,Et]),yr=Object(s.useCallback)((function(e){j.n.logDebug("CodeEditorPage -> addOrSelectTab:",e);var t=Et.findIndex((function(t){return t.path===e.path}));t>-1?Cr(t):(xt([].concat(Object(i.a)(Et),[e])),Cr(Et.length),Xe(!1),ua&&ca(or(e.content)))}),[or,ua,Cr,Et]),Pr=Object(s.useCallback)(function(){var e=Object(o.a)(Object(r.a)().mark((function e(t){var n,a,o,i,c,s=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],j.n.logDebug("CodeEditorPage -> fetchFileContents -> getPreviewFile: ",n),a={name:t.base_name,path:t.path,content:"",language:"",canBeSaved:!1,timestamp:0},e.next=5,E.m(t,v);case 5:if(o=e.sent,j.n.logDebug("CodeEditorPage -> fetchFileContents -> FileUtil.getSignedFilePreviewUrlResponse -> file_signed_url_req_res: ",o),"undefined"!==typeof(i=o.data)._update_main_state&&N(Object(M.q)(i._update_main_state)),"undefined"!==typeof i._update_space&&null!==i._update_space&&N(Object(M.r)(i._update_space)),"0"===o.error.code){e.next=13;break}return rr(o.error,t),e.abrupt("return",Promise.reject());case 13:return e.next=15,Object(j.j)({method:"GET",url:o.data.url,authenticated:!1});case 15:if("0"===(c=e.sent).error.code){e.next=19;break}return rr(c.error,t),e.abrupt("return",Promise.reject());case 19:return"application/json"===t.mime_type?a.content=JSON.stringify(c.data,null,4):(a.content=c.data.toString(),0===a.content.length&&(a.content=" ")),n?vn.current=a.content:(a.language=Ye[t.extension]||"plaintext",yr(a),st(!0)),e.abrupt("return",Promise.resolve());case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[yr,N,rr,v]),Nr=Object(s.useCallback)((function(e){if(!U.current.previewWithRequestsCountOn)return 0;var t=(new Date).getTime()-Et[Pt].timestamp,n=0,a=1e3*e;return t<=a&&(n=a-t),n}),[Pt,Et]);function kr(){an(!1)}function Sr(){return(Sr=Object(o.a)(Object(r.a)().mark((function t(n){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.case&&e.case.answer&&Pt>-1)){t.next=7;break}return t.prev=1,t.next=4,Er(n,e.case.answer);case 4:return t.prev=4,kr(),t.finish(4);case 7:case"end":return t.stop()}}),t,null,[[1,,4,7]])})))).apply(this,arguments)}function Lr(){$t(!1),Cn(!1)}function Tr(){return(Tr=Object(o.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xn){e.next=8;break}return e.next=3,Er(void 0);case 3:Lr(),localStorage.removeItem("code_editor.iscrollpos"),k.push("/space/".concat(Bn)),e.next=16;break;case 8:if(!mn.current){e.next=15;break}return e.next=11,Er(void 0);case 11:$a(mn.current.path),Lr(),e.next=16;break;case 15:Lr();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(s.useEffect)((function(){Zt&&(xr(null,!0),Gt(!1))}),[Zt,xr]),Object(s.useEffect)((function(){Aa&&(Ra(!1),ut!==oe.NONE&&xr(void 0,!0))}),[ut,xr,Aa]),Object(s.useEffect)((function(){Pt>-1&&Me(!1)}),[Pt]),Object(s.useEffect)((function(){if(Vn&&Oa){j.n.logDebug("CodeEditorPage -> loadFileContent useEffect hook -> file:",Oa),Kn(!1),Me(!0),ve("Loading file...");var e=Et.findIndex((function(e){return e.path===Oa.path}));-1===e?Pr(Object(T.a)(Oa)):(Cr(e),Me(!1))}}),[Pr,Oa,Vn,Ea,Cr,Et]),Object(s.useEffect)((function(){function e(e){var t,n;e?(t=h.a.container_fluid_override,n="container-fluid"):(n=h.a.container_fluid_override,t="container-fluid");var a=document.querySelector("."+n);null===a||void 0===a||a.classList.add(t),null===a||void 0===a||a.classList.remove(n)}return q||(e(!0),document.body.classList.add("code-editor-modal-body-wrp"),window.innerWidth>R.a.medium&&Rt(!0)),N(Object(M.i)(!1)),N(Object(M.j)(!1)),function(){q||(e(!1),document.body.classList.remove("code-editor-modal-body-wrp"))}}),[q]);var Dr=Object(s.useCallback)((function(e){var t=window.screen;window.innerWidth<=R.a.medium&&(0===t.orientation.angle||180===t.orientation.angle)&&(ut!==oe.NONE&&za(oe.NONE),Lt&&Wa(void 0,!1)),Kt(window.innerWidth>R.a.medium)}),[ut,Lt,za,Wa]);return Object(s.useEffect)((function(){ua&&!qn&&Ka(!1)}),[qn,ua]),Object(s.useEffect)((function(){ua&&we&&!qn&&vr()}),[qn,pa,vr,we,ua]),Object(s.useEffect)((function(){return window.addEventListener("resize",gr),function(){window.removeEventListener("resize",gr)}}),[gr]),Object(s.useEffect)((function(){return window.addEventListener("orientationchange",Dr),function(){window.removeEventListener("orientationchange",Dr)}}),[Dr]),Object(s.useEffect)((function(){if(at){j.n.logDebug("CodeEditorPage -> reloadIframeContent effect hook"),rt(!1);var e=Y.current,t=On.current,n=ua||Va&&sa.current||aa.current?0:Nr(16),a=function(a){j.n.logDebug("CodeEditorPage -> reloadIframeContent effect hook -> setMyTimeout -> timer:",n),Ln.current&&(clearTimeout(Ln.current),Ln.current=null),n>0&&na(Math.ceil(n/1e3)),Sn.current=setTimeout((function(){hr(e,t),Ln.current&&(clearTimeout(Ln.current),Ln.current=null),na(void 0),Va&&sa.current||(Et[Pt].timestamp=(new Date).getTime()),Sn.current=null,a&&et(!1)}),n)};Sn.current&&(clearTimeout(Sn.current),Sn.current=null,Ln.current&&(clearTimeout(Ln.current),Ln.current=null),na(void 0)),Va&&Ea&&!vn.current?Pr(Ea,!0).then((function(){j.n.logDebug("CodeEditorPage -> reloadIframeContent effect hook -> fetchFileContents returned"),a(!0)})).catch((function(e){j.n.logDebug("CodeEditorPage -> reloadIframeContent effect hook -> error on fetchFileContents:",e)})):(!Ea&&Va&&(ir(Et[Pt].content)?vn.current="<div></div>":vn.current=Et[Pt].content),a(!1))}}),[Pt,Pr,Nr,ir,ua,Va,Ea,Y,at,hr,Et]),Object(s.useEffect)((function(){ut===oe.NONE?ht(Ce.Left):ut===oe.VERTICAL?ht(Ce.Center):ht(Ce.Right)}),[ut]),Object(s.useEffect)((function(){De||ze||ve("Loading...")}),[De,ze]),Object(s.useEffect)((function(){function e(e){Ge?(window.history.pushState(null,document.title,window.location.href),Cn(!0),$t(!0)):k.push("/space/".concat(Bn))}function t(e){if(Ge)return e.returnValue=!0,!0}return window.history.pushState(null,document.title,window.location.href),window.addEventListener("beforeunload",t),window.addEventListener("popstate",e),function(){window.removeEventListener("beforeunload",t),window.removeEventListener("popstate",e)}}),[Ge,k,Bn]),Oa||v.editor_content.file_path?Object(S.jsxs)("div",{className:"code_editor_page "+h.a.code_editor_page,children:[Object(S.jsx)(Le,{children:{left:Object(S.jsx)("div",{className:h.a.back_button,children:Object(S.jsx)(f.a,{text:"Back to files",handleOnClick:function(e,t){j.n.logDebug("CodeEditorPage -> clickBackToFiles -> myHistory",t),Et[Pt].canBeSaved?(mn.current=void 0,Cn(!0),$t(!0)):(localStorage.removeItem("code_editor.iscrollpos"),t.push("/space/".concat(Bn)))}})}),center:ne?Object(S.jsx)(S.Fragment,{}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("button",{className:h.a.buttons_preview_pane+" "+h.a.buttons_preview_editor+" "+h.a.preview_btn_mobile,disabled:De||ze||La||!!e.caseLoading,children:Object(S.jsxs)("a",{href:un,target:"_blank",rel:"noreferrer",children:["Preview ",Object(S.jsx)(ee,{size:15})]})}),Object(S.jsx)(Pe,{className:h.a.button_group,tooltipLeft:"No preview",tooltipCenter:"Vertical preview",tooltipRight:"Horizontal preview",activeButton:pt,onClickButton:function(e){e===Ce.Left?Or(void 0,oe.NONE):e===Ce.Center?Or(void 0,oe.VERTICAL):Or(void 0,oe.HORIZONTAL)},disabled:De||ze||$e||!!e.caseLoading||le,ariaLabel:"Are we going to display preview?"})]}),right:ne?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:h.a.save_button,children:Object(S.jsx)(j.a,{variant:"primary",disabled:ze||De||!(Pt>-1&&Ge)||!!e.caseLoading,loading:ze,onClick:Er,text:Ge?"Save":"Saved"})})})}}),Object(S.jsxs)("div",{className:h.a.body,children:[Object(S.jsx)(ge,{displayPreview:ut,openPanel:Lt,disabled:De||ze||!!e.caseLoading,activePanelItem:cn,onClickPanelItem:Za,panelTransitionEnd:function(e){Lt||le||ne||(z?(Wa(void 0,!0),W(!1)):sn(""))},topPanels:nr,bottomPanels:ar,toggleOpenPanel:Wa,contentClassName:h.a.panel_content}),Object(S.jsx)("div",{className:h.a.loader+(De?" "+h.a.loading:""),children:De&&Object(S.jsx)(I.a,{text:je})}),!De&&ct&&Pt>-1&&Object(S.jsxs)("div",{className:h.a.code_editor+(ut===oe.HORIZONTAL?" "+h.a.preview_horizontal:""),children:[Object(S.jsx)(L,{className:h.a.editor_group+(ut===oe.HORIZONTAL?" "+h.a.preview_horizontal:""),activeTab:Pt,tabs:Et,displayPreviewMarkdown:ua&&!pa,displayLivePreview:U.current.livePreview,disableLivePreview:De||ze||$e||ua||!!e.caseLoading,disableRun:De||ze||$e||La||Va||"about:blank"===jn.current||ua&&!pa||!!e.caseLoading,livePreviewChecked:Va,onClickLivePreview:function(e){sa.current||(aa.current=!0),localStorage.removeItem("code_editor.iscrollpos"),Ka(!Va)},onClickRun:xr,displayDiffEditor:le&&!ua,isCaseMode:q,editor:{onSave:Er,onChangedContents:wr,resetContent:Nn,contentHasBeenReset:function(e){mn.current&&(j.n.logDebug("CodeEditorPage -> editorContentHasBeenReset -> value",e),kn(!1),Et[Pt].content=e,Et[Pt].canBeSaved=!1,Xe(!1),$a(mn.current.path),Lr())},toggleTheme:qa,mardownProps:{code:ia,preview:ua&&!pa,disable:De||ze||$e||!!e.caseLoading,onClick:function(e){ha(!pa),pa&&xr(e,!0)}},editorProps:{defaultLanguage:Et[Pt].language,value:Et[Pt].content,defaultValue:Et[Pt].content,path:Et[Pt].path,theme:Ot,onMount:function(e,t){if(j.n.logDebug("CodeEditorPage -> handleEditorDidMount -> instantiated:",we),!we){vr();var n=q||window.innerWidth<=R.a.medium?oe.NONE:localStorage.getItem("code_editor.preview");n&&Or(null,n),q&&sn(H.Case),Ee(!0),Me(!1)}gn.current=e}}},diffEditor:{toggleTheme:qa,diffEditorProps:{language:Et[Pt].language,modified:!!e.case&&Et[Pt].content||Rn,original:!!e.case&&e.case.answer||Et[Pt].content,theme:Ot,options:{renderSideBySide:Vt},onMount:function(e,t){j.n.logDebug("CodeEditorPage -> handleDiffEditorDidMount -> diffInstantiated:",Ne),Ne||(Wa(void 0,!1),ke(!0),Me(!1))}}}}),!le&&Object(S.jsx)(de,{display:ut!==oe.NONE,refPreviewPane:B,refIframe:Y,disabled:De||ze||ua&&!pa||!!e.caseLoading,enableOverrideExternal:ua&&!pa,loading:$e||Va&&ze,orientation:ut,urlDisplayed:pn,displayMarkdown:ua&&pa,markdownCode:ia,externalURL:un,displayError:La,displayErrorBody:Pa,handleTransitionEnd:function(e){var t,n,a=document.getElementsByClassName(h.a.panel_content)[0].clientWidth,r=(null===(t=B.current)||void 0===t?void 0:t.style.width)||(null===(n=B.current)||void 0===n?void 0:n.clientWidth)||0;"string"===typeof r&&(r=r.substring(0,r.length-2)),Lt&&ut===oe.VERTICAL&&Number(r)+a+110>=window.innerWidth&&Wa(e,!1)},handleRefresh:function(e){return xr(e,!0)},handleMouseMoveResizer:function(e,t){var n=document.getElementsByClassName(h.a.panel_content)[0].clientWidth;ut===oe.VERTICAL&&Lt&&n+t+140>window.innerWidth&&Wa(e,!1)},handleMounted:function(){j.n.logDebug("CodeEditorPage -> previewMounted -> iFrameFirstTimeLoaded.current",Dn.current),Dn.current?La&&et(!1):(Et[Pt].timestamp=(new Date).getTime(),Dn.current=!0)},handleOnIframeLoaded:function(e){j.n.logDebug("CodeEditorPage -> onIframeLoaded -> isLoadingRefresh",$e),$e&&(aa.current=!1,et(!1),Ln.current&&(clearTimeout(Ln.current),Ln.current=null,na(void 0)))},typeOf:Ua,loadingChild:ta?Object(S.jsxs)("div",{className:h.a.loading_timer_text,children:["Your preview will be ready in ",Object(S.jsx)("strong",{children:ta})," ",1===ta?"second.":"seconds."]}):void 0,loadingText:je})]})]}),At&&!q&&Object(S.jsx)("div",{className:h.a.footer,children:Object(S.jsx)(ae,{list:zt})}),q&&Object(S.jsxs)("div",{className:h.a.case_footer,children:[Object(S.jsx)("button",{className:h.a.case_nav_button+" "+h.a.case_btn_light,disabled:!e.case||e.case.page<=1||!!e.caseLoading,onClick:function(t){le?(ue(!1),sn(H.Case),!Lt&&Wa(void 0,!0)):(ue(!1),Lt&&cn===H.Case||(sn(H.Case),!Lt&&Wa(void 0,!0)),e.caseHandlers&&e.caseHandlers.onClickPrevious(t))},children:"Previous"}),Object(S.jsx)("div",{children:ne?"Completed":e.case.page+"/"+e.case.total}),Object(S.jsxs)("div",{className:h.a.case_footer_end_group,children:[Object(S.jsx)("button",{className:(le?"":"d-none ")+h.a.case_nav_button+" "+h.a.case_btn_light+" "+h.a.case_nav_button_long,disabled:!e.case||ne||!!e.caseLoading,onClick:function(){return an(!0)},children:"Copy Original to Modified"}),Object(S.jsx)("button",{className:h.a.case_nav_button+" "+h.a.case_btn_dark,disabled:!e.case||ne||!!e.caseLoading,onClick:function(t){var n;!le&&e.case&&e.case.answer?(ue(!0),Wa(void 0,!1),za(oe.NONE),sn("")):(ue(!1),(!Lt||cn!==H.Case)&&e.case.page<e.case.total?(sn(H.Case),!Lt&&Wa(void 0,!0)):e.case.page===e.case.total&&(sn(""),Wa(void 0,!1),za(oe.NONE)),e.caseHandlers&&(null===(n=e.caseHandlers)||void 0===n||n.onClickNext(t)))},children:"Continue"})]})]}),!!Qn&&Object(S.jsx)(pe.a,{show:!0,close:function(){Jn(void 0)},file:Qn}),Object(S.jsx)(be,{show:Jt,loading:ze,onCancelClicked:Lr,onNoSaveClicked:function(){xn?(Lr(),localStorage.removeItem("code_editor.iscrollpos"),k.push("/space/".concat(Bn))):mn.current?kn(!0):Lr()},onSaveClicked:function(){return Tr.apply(this,arguments)}}),q&&Object(S.jsx)(s.Suspense,{fallback:Object(S.jsx)(Ie.a,{}),children:Object(S.jsx)(He,{show:nn,loading:ze,onCancelClicked:kr,onSaveClicked:function(e){return Sr.apply(this,arguments)}})}),Object(S.jsx)(Re,{show:Ut,close:function(){Bt(!1)}})]}):0===y.filter((function(e){return e.id===Bn})).length?Object(S.jsx)(d.a,{to:"/"}):Object(S.jsx)(d.a,{to:"/space/".concat(Bn)})}}}]);
//# sourceMappingURL=14.480861e9.chunk.js.map